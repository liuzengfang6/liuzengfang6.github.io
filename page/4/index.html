<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-day14_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/29/day14_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-29T00:55:23.000Z" itemprop="datePublished">2024-11-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/29/day14_kls/">day14_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="è®¡ç®—æœºç½‘ç»œæ¨¡å‹">è®¡ç®—æœºç½‘ç»œæ¨¡å‹</span></h3><h4><span id="osiampamptcpx2fip">OSI&amp;&amp;TCP&#x2F;IP</span></h4><p><img src="/../assets/image_1732792214231_0.png" alt="image.png"></p>
<h4><span id="è®¾å¤‡ç½‘ç»œå®‰å…¨ç›¸å…³">è®¾å¤‡(ç½‘ç»œå®‰å…¨ç›¸å…³)</span></h4><p>åº”ç”¨å±‚: WAFã€IPS&#x2F;IDSç­‰</p>
<p>ç½‘ç»œå±‚:é˜²ç«å¢™ã€VPNã€IPS&#x2F;IDSç­‰</p>
<p>ä¼ è¾“å±‚:é˜²ç«å¢™ã€VPNã€IPS&#x2F;IDSç­‰</p>
<h4><span id="ä¼ è¾“å±‚å¸¸è§åè®®">ä¼ è¾“å±‚å¸¸è§åè®®</span></h4><p>ARPã€ICMPã€IP</p>
<h4><span id="ç½‘ç»œå±‚å¸¸è§åè®®">ç½‘ç»œå±‚å¸¸è§åè®®</span></h4><p>TCPã€UDPã€OSPF</p>
<h4><span id="åº”ç”¨å±‚å¸¸è§åè®®åŠå…¶é»˜è®¤ç«¯å£">åº”ç”¨å±‚å¸¸è§åè®®åŠå…¶é»˜è®¤ç«¯å£</span></h4><table>
<thead>
<tr>
<th>åè®®</th>
<th>è¯´æ˜</th>
<th>ç«¯å£å·</th>
</tr>
</thead>
<tbody><tr>
<td>FTP</td>
<td>æ–‡ä»¶ä¼ è¾“åè®®</td>
<td>21</td>
</tr>
<tr>
<td>SFTP</td>
<td>åŸºäºsshçš„æ–‡ä»¶ä¼ è¾“åè®®</td>
<td>22</td>
</tr>
<tr>
<td>FTPS</td>
<td>æ”¯æŒSSL&#x2F;TLSçš„æ–‡ä»¶ä¼ è¾“åè®®</td>
<td>21&#x2F;990</td>
</tr>
<tr>
<td>SMTP</td>
<td>å‘é€é‚®ä»¶åè®®</td>
<td>25ã€587(TLS)</td>
</tr>
<tr>
<td>IMAP</td>
<td>æ”¶å–é‚®ä»¶åè®®</td>
<td>143 ã€993 (TLS)</td>
</tr>
<tr>
<td>POP3</td>
<td>æ”¶å–é‚®ä»¶åè®®</td>
<td>110 ã€995 (TLS)</td>
</tr>
<tr>
<td>SSH</td>
<td>å®‰å…¨è¿œç¨‹ç™»å½•åè®®</td>
<td>22</td>
</tr>
<tr>
<td>Telnet</td>
<td>éåŠ å¯†çš„è¿œç¨‹ç™»å½•åè®®</td>
<td>23</td>
</tr>
<tr>
<td>RDP</td>
<td>è¿œç¨‹æ¡Œé¢åè®®</td>
<td>3389</td>
</tr>
<tr>
<td>VNC</td>
<td>è¿œç¨‹æ¡Œé¢</td>
<td>5900</td>
</tr>
<tr>
<td>MySQL</td>
<td>MySQL æ•°æ®åº“è®¿é—®åè®®</td>
<td>3306</td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>PostgreSQL æ•°æ®åº“è®¿é—®åè®®</td>
<td>5432</td>
</tr>
<tr>
<td>MongoDB</td>
<td>MongoDB æ•°æ®åº“åè®®</td>
<td>27017</td>
</tr>
<tr>
<td>Redis</td>
<td>Redis æ•°æ®åº“åè®®</td>
<td>6379</td>
</tr>
<tr>
<td>MsSQL</td>
<td>MicroSoftæ•°æ®åº“åè®®</td>
<td>1433</td>
</tr>
<tr>
<td>Oracle</td>
<td>ç”²éª¨æ–‡æ•°æ®åº“åè®®</td>
<td>1521</td>
</tr>
<tr>
<td>HTTP</td>
<td>è¶…æ–‡æœ¬ä¼ è¾“åè®®</td>
<td>80</td>
</tr>
<tr>
<td>HTTPS</td>
<td>åŠ å¯†çš„ HTTP åè®®</td>
<td>443</td>
</tr>
<tr>
<td>SMB</td>
<td>ç”¨äºå…±äº«æ–‡ä»¶ã€æ‰“å°æœº</td>
<td>445</td>
</tr>
<tr>
<td>NFS</td>
<td>ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿåè®®</td>
<td>2049</td>
</tr>
</tbody></table>
<p>å¸¸è§çš„æœåŠ¡åŠå…¶é»˜è®¤ç«¯å£å·</p>
<table>
<thead>
<tr>
<th>æœåŠ¡</th>
<th>ç«¯å£å·</th>
</tr>
</thead>
<tbody><tr>
<td>weblogic</td>
<td>7001</td>
</tr>
<tr>
<td>tomcat</td>
<td>8080</td>
</tr>
</tbody></table>
<h4><span id="ipv4">IPv4</span></h4><p>åœ°å€:<code>0.0.0.0-255.255.255.255</code></p>
<h4><span id="å†…ç½‘åœ°å€ampå¤–ç½‘åœ°å€">å†…ç½‘åœ°å€&amp;å¤–ç½‘åœ°å€</span></h4><p>å¸¸è§çš„å†…ç½‘åœ°å€æ®µ<br>:LOGBOOK:<br>CLOCK: [2024-11-28 Thu 15:49:57]â€“[2024-11-28 Thu 15:49:57] &#x3D;&gt;  00:00:00<br>CLOCK: [2024-11-28 Thu 15:49:58]â€“[2024-11-28 Thu 15:49:59] &#x3D;&gt;  00:00:01<br>:END:</p>
<table>
<thead>
<tr>
<th><strong>ç½‘æ®µ</strong></th>
<th><strong>åœ°å€èŒƒå›´</strong></th>
<th><strong>é€‚ç”¨åœºæ™¯</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>10.0.0.0/8</code></td>
<td><code>10.0.0.0 - 10.255.255.255</code></td>
<td>å¤§å‹ç»„ç»‡ï¼Œéœ€å¤§é‡åœ°å€çš„åœºæ™¯ã€‚</td>
</tr>
<tr>
<td><code>172.16.0.0/12</code></td>
<td><code>172.16.0.0 - 172.31.255.255</code></td>
<td>ä¸­å‹ç»„ç»‡ï¼Œçµæ´»çš„å­ç½‘åˆ’åˆ†éœ€æ±‚ã€‚</td>
</tr>
<tr>
<td><code>192.168.0.0/16</code></td>
<td><code>192.168.0.0 - 192.168.255.255</code></td>
<td>å°å‹ç½‘ç»œï¼Œå®¶åº­å’ŒåŠå…¬ç½‘ç»œã€‚</td>
</tr>
<tr>
<td><code>127.0.0.0/8</code></td>
<td><code>127.0.0.1 - 127.255.255.254</code></td>
<td>æœ¬åœ°å›ç¯ï¼Œè®¾å¤‡è‡ªèº«é€šä¿¡ã€‚</td>
</tr>
</tbody></table>
<h4><span id="ä¸€æ¬¡å®Œæ•´çš„tcpè¯·æ±‚ä¼šåšä»€ä¹ˆä»¥httpè¯·æ±‚ä¸ºä¾‹">ä¸€æ¬¡å®Œæ•´çš„TCPè¯·æ±‚ä¼šåšä»€ä¹ˆ(ä»¥HTTPè¯·æ±‚ä¸ºä¾‹)</span></h4><h3><span id="wiresharkæŠ“åŒ…ä¹‹icmp">wiresharkæŠ“åŒ…ä¹‹ICMP</span></h3><p>æ•´ä¸ªicmpåŒ…ï¼Œ<code>ping baidu.com</code></p>
<p><img src="/../assets/image_1732771878624_0.png" alt="image.png"></p>
<h3><span id="wiresharkæŠ“åŒ…ä¹‹arp">wiresharkæŠ“åŒ…ä¹‹ARP</span></h3><p>è¦æ„é€ å‡ºarpåŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¿›è¡Œarpè¯·æ±‚ã€‚æˆ‘ä»¬ä½¿ç”¨<code>arping 192.168.2.198</code>ã€‚</p>
<p>æˆ–æ˜¯åˆ é™¤arpè¡¨ç­‰å¾…arpå¹¿æ’­</p>
<p><img src="/../assets/image_1732772669210_0.png" alt="image.png"></p>
<h3><span id="wiresharkæŠ“åŒ…ä¹‹tcp">wiresharkæŠ“åŒ…ä¹‹TCP</span></h3><p>æµ…æµ…æ„é€ ä¸€ä¸ªhttpåŒ…ï¼Œæ¥è§‚å¯ŸTCPï¼Œ<code>curl baidu.com</code></p>
<p><img src="/../assets/image_1732775304528_0.png" alt="image.png"></p>
<h5><span id="ä¸‰æ¬¡æ¡æ‰‹">ä¸‰æ¬¡æ¡æ‰‹</span></h5><p>æˆ‘æ¥äº†å“¦SYN ğŸ˜ƒ</p>
<p>æˆ‘çŸ¥é“äº†å“¦ï¼Œä½ æ¥å§SYN,ACK ğŸ˜</p>
<p>æˆ‘çœŸçš„æ¥äº†å“¦SYN ğŸ¥µ</p>
<h5><span id="å››æ¬¡æŒ¥æ‰‹">å››æ¬¡æŒ¥æ‰‹</span></h5><p>æˆ‘è¦èµ°äº†å“¦ï¼Œå¥½æƒ³ä½ FIN,ACK ğŸ˜¢</p>
<p>ä½ èµ°å§SYN ğŸ¤”</p>
<p>ä½ èµ°å§ï¼Œæ‹œæ‹œäº†æ‚¨å†…FIN,ACK ğŸ¤¡</p>
<p>æˆ‘èµ°äº†SYN ğŸ˜­</p>
<h3><span id="wiresharkæŠ“åŒ…ä¹‹udp">wiresharkæŠ“åŒ…ä¹‹UDP</span></h3><p>ä½¿ç”¨ncçš„udpæ¨¡å¼æ„é€ udpåŒ…</p>
<p><img src="/../assets/image_1732780002791_0.png" alt="image.png"></p>
<h3><span id="tcp-vs-udp">TCP vs UDP</span></h3><p>å¿«æ…¢ã€æ˜¯å¦å¯é ã€ç³»ç»Ÿå¼€é”€ã€æ˜¯å¦æœ‰è¿æ¥</p>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<p>TCPï¼šæ•°æ®æ•æ„Ÿå‹æœåŠ¡ï¼Œhttp</p>
<p>UDPï¼šé€Ÿåº¦æ•æ„Ÿå‹æœåŠ¡ï¼Œç›´æ’­ã€ç”µè¯</p>
<h3><span id="wiresharkæŠ“åŒ…ä¹‹dns">wiresharkæŠ“åŒ…ä¹‹DNS</span></h3><p>å‘dnsæœåŠ¡å™¨å‘é€dnsè¯·æ±‚<code>dig kali.pcx.home</code></p>
<p><img src="/../assets/image_1732782831532_0.png" alt="image.png"></p>
<h4><span id="dnsè®°å½•ç±»å‹">dnsè®°å½•ç±»å‹</span></h4><p><strong>A è®°å½•</strong>ï¼šå°†åŸŸåè§£æä¸º IPv4 åœ°å€ã€‚</p>
<p><strong>AAAA è®°å½•</strong>ï¼šå°†åŸŸåè§£æä¸º IPv6 åœ°å€ã€‚</p>
<p><strong>CNAME è®°å½•</strong>ï¼šåˆ«åè®°å½•ï¼Œå°†ä¸€ä¸ªåŸŸåæ˜ å°„åˆ°å¦ä¸€ä¸ªåŸŸåã€‚</p>
<p><strong>PTR è®°å½•</strong>ï¼šåå‘è§£æè®°å½•ã€‚</p>
<p><strong>MX è®°å½•</strong>ï¼šé‚®ä»¶äº¤æ¢è®°å½•ï¼Œç”¨äºç”µå­é‚®ä»¶æœåŠ¡å™¨ã€‚</p>
<p><strong>NS è®°å½•</strong>ï¼šæŒ‡å‘åŸŸåçš„æƒå¨ DNS æœåŠ¡å™¨ã€‚</p>
<p><strong>SOA è®°å½•</strong>ï¼šèµ·å§‹æˆæƒæœºæ„è®°å½•ï¼Œæ ‡è¯†åŒºåŸŸçš„ä¸»è¦ä¿¡æ¯ã€‚</p>
<p><strong>TXT è®°å½•</strong>ï¼šå­˜å‚¨ä»»æ„æ–‡æœ¬æ•°æ®ï¼Œå¸¸ç”¨äºèº«ä»½éªŒè¯ï¼ˆå¦‚ SPFã€DKIMï¼‰ã€‚</p>
<h4><span id="dnsæŸ¥è¯¢æ¨¡å¼">dnsæŸ¥è¯¢æ¨¡å¼</span></h4><p>é€’å½’æŸ¥è¯¢</p>
<p>è¿­ä»£æŸ¥è¯¢</p>
<p>åå‘æŸ¥è¯¢</p>
<h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><p><a target="_blank" rel="noopener" href="https://xiaolincoding.com/network">å›¾è§£ç½‘ç»œä»‹ç» | å°æ—coding</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/summary-of-network.html">è®¡ç®—æœºç½‘ç»œåŸºç¡€çŸ¥è¯†æ€»ç»“ | èœé¸Ÿæ•™ç¨‹</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/29/day14_kls/" data-id="cm4ockldt0008a3iwh6sgfg4j" data-title="day14_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">è®¡ç®—æœºç½‘ç»œ</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day13_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/28/day13_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-28T00:50:44.000Z" itemprop="datePublished">2024-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/28/day13_kls/">day13_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="windows">windows</span></h3><p>å€¼å¾—æ³¨æ„çš„å‡ ç‚¹:winä¸åŒºåˆ†å¤§å°å†™ï¼Œwinçš„è·¯å¾„åº”è¯¥è¿™ä¹ˆå†™<code>\xxx\xxx</code></p>
<h3><span id="windowså¸¸ç”¨çš„ä¸œè¥¿">windowså¸¸ç”¨çš„ä¸œè¥¿</span></h3><p>æ³¨å†Œè¡¨<code>regedit</code></p>
<p>æœåŠ¡<code>services.msc</code></p>
<p>è®¡ç®—æœºç®¡ç†<code>compmgmt.msc</code></p>
<p>windowsé…ç½®:<code>msconfig</code>è®°ä½ä»–å°±å¤Ÿäº†</p>
<p>è¿œç¨‹è¿æ¥<code>mstsc</code></p>
<h3><span id="windowså‘½ä»¤è¡Œ">windowså‘½ä»¤è¡Œ</span></h3><h4><span id="cmd">cmd</span></h4><h5><span id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</span></h5><p><code>cd</code>åˆ‡æ¢ç›®å½•ï¼Œç‰¹æ®Šçš„å¦‚æœè¿›å…¥å…¶ä»–ç›˜ç¬¦åº”è¯¥è¿™æ ·<code>X:</code>è€Œä¸æ˜¯<code>cd X:</code>ï¼Œxä¸ºä½ å‘è¿›å…¥çš„ç›˜ç¬¦</p>
<p><code>dir</code>åˆ—å‡ºæ–‡ä»¶ï¼Œåˆ—å‡ºéšè—æ–‡ä»¶<code>-a</code></p>
<p><code>findstr</code>æŸ¥æ‰¾å†…å®¹ç±»ä¼¼grep</p>
<p><code>netstat -ano</code>æŸ¥çœ‹ç½‘ç»œè¿æ¥</p>
<p><code>ipconfig</code>ç½‘å¡ä¿¡æ¯</p>
<p><code>type</code>è¾“å‡ºæ–‡ä»¶å†…å®¹</p>
<p><code>move</code>ç§»åŠ¨ï¼Œé‡å‘½åæ–‡ä»¶</p>
<p><code>copy</code>å¤åˆ¶æ–‡ä»¶</p>
<h5><span id="å°æŠ€å·§">å°æŠ€å·§</span></h5><p>ä½¿ç”¨ç®¡ç†å‘˜ç»ˆç«¯ï¼š</p>
<p>æ–¹æ³•1ï¼š<code>win+x</code>ç„¶åä½ å°±ä¼šçœ‹åˆ°ç®¡ç†å‘˜ç»ˆç«¯äº†ï¼Œç‚¹å‡»å®ƒ</p>
<p>æ–¹æ³•2ï¼šæ‰¾åˆ°<code>cmd.exe</code>å³é”®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</p>
<h4><span id="powershell">powershell</span></h4><p>å…¼å®¹éƒ¨åˆ†cmdã€‚</p>
<h3><span id="ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†">ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†</span></h3><h4><span id="ç”¨æˆ·ç›¸å…³æ“ä½œ">ç”¨æˆ·ç›¸å…³æ“ä½œ</span></h4><p><strong>æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯</strong>:<code>net user [USERNAME]</code></p>
<p><strong>åˆ›å»ºæ–°ç”¨æˆ·</strong>:<code>net user USERNAME PASSWORD /add</code></p>
<p><strong>åˆ é™¤ç”¨æˆ·</strong>:<code>net user USERNAME /delete</code></p>
<p><strong>ä¿®æ”¹å¯†ç </strong>:<code>net user USERNAME NEW_PASSWORD</code></p>
<p><strong>å¯ç”¨&#x2F;ç¦ç”¨ç”¨æˆ·</strong>:<code>net user USERNAME /active:&lt;yes/no&gt;</code></p>
<h4><span id="ç”¨æˆ·ç»„ç›¸å…³æ“ä½œ">ç”¨æˆ·ç»„ç›¸å…³æ“ä½œ</span></h4><p><strong>æŸ¥çœ‹ç”¨æˆ·ç»„</strong>ï¼Œ<strong>æ–°å»ºç”¨æˆ·ç»„</strong>ï¼Œ<strong>åˆ é™¤ç”¨æˆ·ç»„</strong>å’Œç”¨æˆ·çš„æ“ä½œç›¸åŒï¼Œå°†<code>net user</code>æ”¹ä¸º<code>net localgroup</code>å³å¯</p>
<p><strong>æ·»åŠ ç”¨æˆ·åˆ°ç”¨æˆ·ç»„</strong>:<code>net localgroup GROUPNAME USERNAME /add</code></p>
<p><strong>ä»ç”¨æˆ·ç»„ä¸­åˆ é™¤ç”¨æˆ·</strong>:<code>net localgroup GROUPNAME USERNAME /delete</code></p>
<h3><span id="æ–‡ä»¶å…±äº«">æ–‡ä»¶å…±äº«</span></h3><p>windowsé»˜è®¤çš„smbä»…æœ‰administratorå¯ä»¥ç™»é™†ï¼Œé»˜è®¤æƒ…å†µä¸‹administratoræ²¡æœ‰å¯†ç </p>
<h3><span id="windowsä¸­rdpå®‰å…¨">windowsä¸­rdpå®‰å…¨</span></h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœéœ€è¦rdpè¿æ¥ã€‚è¦é€‰æ‹©è¿™ä¸ª</p>
<p><img src="/../assets/image_1732706692033_0.png" alt="image.png"></p>
<h3><span id="phpstudyéƒ¨ç½²dvwa">phpstudyéƒ¨ç½²dvwa</span></h3><p>å®‰è£…phpstudy</p>
<p>å¯åŠ¨phpstudy</p>
<p>ä¸‹è½½dvwaæºç </p>
<p>æ‹·è´dvwaé…ç½®æ–‡ä»¶</p>
<p>ä¿®æ”¹dvwaé…ç½®æ–‡ä»¶</p>
<p>è®¿é—®ç›¸å…³è·¯å¾„ï¼Œåˆ›å»ºæ•°æ®åº“</p>
<h3><span id="phpstudyå®‰å…¨é…ç½®">phpstudyå®‰å…¨é…ç½®</span></h3><h4><span id="æ•°æ®åº“mysql">æ•°æ®åº“mysql</span></h4><p>ä»…ç›‘å¬æœ¬åœ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">bind-address = 127.0.0.1</span><br></pre></td></tr></table></figure>

<h4><span id="ä¸­é—´ä»¶">ä¸­é—´ä»¶</span></h4><h4><span id="nginx">nginx</span></h4><p>ä»…ç›‘å¬æœ¬åœ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 127.0.0.1:80; # ä»…ç›‘å¬æœ¬åœ°çš„ 80 ç«¯å£</span><br><span class="line">    server_name localhost;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root /var/www/html;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="apache">apache</span></h4><p>ä»…ç›‘å¬æœ¬åœ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Listen 127.0.0.1:80</span><br></pre></td></tr></table></figure>

<h4><span id="phpstudyéƒ¨ç½²sqli-labs">phpstudyéƒ¨ç½²sqli-labs</span></h4><h4><span id="æºç ä¸‹è½½">æºç ä¸‹è½½</span></h4><p><a target="_blank" rel="noopener" href="https://github.com/Audi-1/sqli-labs">GitHub Audi-1&#x2F;sqli-labs: SQLI labs to test error based, Blind boolean based, Time based.</a></p>
<p>ä¸‹è½½åå°†å…¶æ‰”åˆ°phpstudyçš„wwwç›®å½•ã€‚</p>
<h4><span id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®</span></h4><p>readmeæ˜¯æ´‹æ–‡ï¼Œçœ‹ä¸å¤ªæ‡‚ï¼Œç¿»è¯‘ä¸€ä¸‹ã€‚å‘Šè¯‰æˆ‘ä»¬ä¿®æ”¹<code>sql-connections/db-creds.inc</code></p>
<p><img src="/../assets/image_1732703485449_0.png" alt="image.png"></p>
<p>ä¿®æ”¹</p>
<p><img src="/../assets/image_1732704271404_0.png" alt="image.png"></p>
<h4><span id="å¤§åŠŸå‘Šæˆç›´æ¥è®¿é—®">å¤§åŠŸå‘Šæˆï¼Œç›´æ¥è®¿é—®</span></h4><p><img src="/../assets/image_1732697571527_0.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/28/day13_kls/" data-id="cm4ockldq0005a3iw41xh94kf" data-title="day13_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows/" rel="tag">windows</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day12_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/26/day12_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-26T05:14:59.000Z" itemprop="datePublished">2024-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/26/day12_kls/">day12_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="shellè„šæœ¬å‚æ•°å¤„ç†getopts">shellè„šæœ¬å‚æ•°å¤„ç†getopts</span></h3><h3><span id="shellè„šæœ¬æ¨¡æ¿">shellè„šæœ¬æ¨¡æ¿</span></h3><h4><span id="å¿…é¡»æœ‰çš„">å¿…é¡»æœ‰çš„</span></h4><p>è„šæœ¬æè¿°</p>
<p>è„šæœ¬ä½¿ç”¨æ–¹æ³•</p>
<p>å‚æ•°å¤„ç†</p>
<p>ä¾èµ–æ£€æŸ¥</p>
<p>æ—¥å¿—</p>
<h4><span id="æ¨¡æ¿å¯èƒ½éœ€è¦çš„ä¸œè¥¿">æ¨¡æ¿å¯èƒ½éœ€è¦çš„ä¸œè¥¿:</span></h4><p>é…ç½®æ–‡ä»¶å¤„ç†</p>
<p>è°ƒè¯•æ¨¡å¼</p>
<h3><span id="ä»£ç†ç›¸å…³">ä»£ç†ç›¸å…³</span></h3><h4><span id="åˆ†ç±»">åˆ†ç±»</span></h4><p>æŒ‰åè®®:</p>
<p>http,https,socks</p>
<p>æŒ‰åŠŸèƒ½ï¼š</p>
<p>æ­£å‘ä»£ç†ï¼Œåå‘ä»£ç†</p>
<p>æŒ‰åŒ¿åæ€§ï¼š</p>
<p>é€æ˜ä»£ç†ï¼ŒåŒ¿åä»£ç†ï¼Œé«˜åŒ¿åä»£ç†</p>
<h4><span id="ä»£ç†æ¨¡å¼">ä»£ç†æ¨¡å¼</span></h4><p>ç³»ç»Ÿä»£ç†ï¼Œè§„åˆ™ä»£ç†</p>
<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="docker-tool">docker-tool</span></h3><p>è‡ªåŠ¨å®‰è£…dockerï¼Œæ·»åŠ ä»£ç†ï¼Œé•œåƒç­‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">discription:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      a docker tool, intall script, config proxy, mirror</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">author: lzf</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">feature:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      1. docker and docker-compose auto install(support centos,ubuntu,debian,kali)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      2. proxy registry-mirrors insecure-registries auto config, via jq</span></span><br><span class="line">help()&#123;</span><br><span class="line">    echo &quot;$0 install/i | proxy/p url | mirror/m url | mirror-addtrust/mt url | add-trust/at url | rm-stoped/rs | compose&quot;</span><br><span class="line">    echo -e &quot;\t install \t\t install docker&quot;</span><br><span class="line">    echo -e &quot;\t proxy url \t\t add proxy&quot;</span><br><span class="line">    echo -e &quot;\t mirror url \t\t add registry-mirrors&quot;</span><br><span class="line">    echo -e &quot;\t add-trust url \t\t add insecure-registries&quot;</span><br><span class="line">    echo -e &quot;\t mirror-addtrust url \t\t add registry-mirrors and insecure-registries&quot;</span><br><span class="line">    echo -e &quot;\t compose \t\t install docker-compose&quot;</span><br><span class="line">    exit 0</span><br><span class="line">&#125;</span><br><span class="line">init()&#123;</span><br><span class="line">    source /etc/os-release</span><br><span class="line">    if command -v jq &gt;/dev/null 2&gt;&amp;1 ;then</span><br><span class="line">        jq_exist=1</span><br><span class="line">    fi</span><br><span class="line">    case $ID in</span><br><span class="line">        centos | ubuntu | debian | kali)</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            echo &quot;æ­£åœ¨ç¼–å†™ä»£ç ï¼Œæš‚ä¸æ”¯æŒ$ID&quot;</span><br><span class="line">            #exit 1</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo &quot;Error: $ID is not supported.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">    esac</span><br><span class="line">    # æ•´ä¸ªé…ç½®æ–‡ä»¶</span><br><span class="line">    CONFIG_PATH=.docker_tools.conf</span><br><span class="line">    if [ -f $CONFIG_PATH ]; then</span><br><span class="line">        source $CONFIG_PATH</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æµ‹ä¾èµ–è½¯ä»¶åŒ…</span></span><br><span class="line">check_depen()&#123;</span><br><span class="line">    local depen=(&quot;jq&quot;)</span><br><span class="line">    for c in $&#123;depen[@]&#125;; do</span><br><span class="line">        has_cmd $c || &#123;</span><br><span class="line">            echo &quot;Error: $c is not installed.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">        &#125;</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line">has_cmd () &#123;</span><br><span class="line">    command -v $1 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line">install()&#123;</span><br><span class="line">    case $ID in</span><br><span class="line">        ubuntu | debian | kali)</span><br><span class="line">            # æ·»åŠ å…¬é’¥</span><br><span class="line">            install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">            curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">            chmod a+r /etc/apt/keyrings/docker.gpg</span><br><span class="line">            # å‚åŠ ä»“åº“</span><br><span class="line">            if &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; = &#x27;kali-rolling&#x27; ; then</span><br><span class="line">                echo \</span><br><span class="line">                  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian \</span><br><span class="line">                  buster stable&quot; | \</span><br><span class="line">                  tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line">            else</span><br><span class="line">                echo \</span><br><span class="line">                  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian \</span><br><span class="line">                  &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | \</span><br><span class="line">                  tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line">            fi</span><br><span class="line">            # å®‰è£…</span><br><span class="line">            apt-get update</span><br><span class="line">            apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">            yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">            # è¿™é‡Œæˆ‘ä»¬æ¢æˆæ¸…åçš„æº</span><br><span class="line">            sed -i &#x27;s+https://download.docker.com+https://mirrors.tuna.tsinghua.edu.cn/docker-ce+&#x27; /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">            yum makecache</span><br><span class="line">            yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            # pacman -S docker</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line">install_docker_compose()&#123;</span><br><span class="line">    curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br><span class="line">    chmod +x /usr/local/bin/docker-compose</span><br><span class="line">&#125;</span><br><span class="line">docker_config_init()&#123;</span><br><span class="line">    config_file=&quot;/etc/docker/daemon.json&quot;</span><br><span class="line">    #config_file=&quot;./daemon.json&quot;</span><br><span class="line">    [ -f &quot;$config_file&quot; ] || echo &quot;&#123;&#125;&quot; &gt; &quot;$config_file&quot;</span><br><span class="line">&#125;</span><br><span class="line">modify_config()&#123;</span><br><span class="line">    jq &quot;$1&quot; &quot;$config_file&quot; &gt; &quot;$config_file.tmp&quot; &amp;&amp; mv &quot;$config_file.tmp&quot; &quot;$config_file&quot;</span><br><span class="line">&#125;</span><br><span class="line">proxy()&#123;</span><br><span class="line">    modify_config &quot;.proxies.\&quot;http-proxy\&quot; = \&quot;$1\&quot;&quot; \</span><br><span class="line">        &amp;&amp; echo &quot;httpä»£ç†é…ç½®æˆåŠŸ:$1&quot; \</span><br><span class="line">        || echo &quot;ttpä»£ç†é…ç½®å¤±è´¥&quot;</span><br><span class="line">    modify_config &quot;.proxies.\&quot;https-proxy\&quot; = \&quot;$1\&quot;&quot; \</span><br><span class="line">        &amp;&amp; echo &quot;httpsä»£ç†é…ç½®æˆåŠŸ:$1&quot; \</span><br><span class="line">        || echo &quot;httpsä»£ç†é…ç½®å¤±è´¥&quot;</span><br><span class="line">    # todo æ ¡éªŒ</span><br><span class="line">    restart_docker</span><br><span class="line">&#125;</span><br><span class="line">mirror()&#123;</span><br><span class="line">    modify_config  &quot;.[\&quot;registry-mirrors\&quot;] |= if index(\&quot;$1\&quot;) == null then . + [\&quot;$1\&quot;] else . end&quot; \</span><br><span class="line">        &amp;&amp; echo &quot;mirroré…ç½®æˆåŠŸ:$1&quot; \</span><br><span class="line">        || echo &quot;mirroré…ç½®å¤±è´¥&quot;</span><br><span class="line">    # todo æ ¡éªŒ</span><br><span class="line">    restart_docker</span><br><span class="line">&#125;</span><br><span class="line">mirror_trust()&#123;</span><br><span class="line">    if [[ $1 =~ http://* ]]; then</span><br><span class="line">        trust=$&#123;1:7:$&#123;#1&#125;&#125;</span><br><span class="line">        echo $trust</span><br><span class="line">        modify_config &quot;if .\&quot;insecure-registries\&quot; | index(\&quot;$trust\&quot;) | not then .\&quot;insecure-registries\&quot; += [\&quot;$trust\&quot;] else . end&quot; \</span><br><span class="line">            &amp;&amp; echo &quot;mirror_trusté…ç½®æˆåŠŸ:$trust&quot; \</span><br><span class="line">            || echo &quot;mirror_trusté…ç½®å¤±è´¥&quot;</span><br><span class="line">        # todo æ ¡éªŒ</span><br><span class="line">        restart_docker</span><br><span class="line">    else</span><br><span class="line">        echo &quot;mirror is not http, not change mirror_trust&quot;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line">enable_doceker()&#123;</span><br><span class="line">    systemctl enable --now docker</span><br><span class="line">&#125;</span><br><span class="line">restart_docker()&#123;</span><br><span class="line">    systemctl daemon-reload</span><br><span class="line">    systemctl restart docker</span><br><span class="line">&#125;</span><br><span class="line">rm_stoped()&#123;</span><br><span class="line">    docker ps -a -f &quot;status=exited&quot; -q | xargs docker rm</span><br><span class="line">&#125;</span><br><span class="line">main()&#123;</span><br><span class="line">    init</span><br><span class="line">    docker_config_init</span><br><span class="line">    if [ $# -eq 0 ]; then</span><br><span class="line">        install</span><br><span class="line">        install_docker_compose</span><br><span class="line">        enable_doceker</span><br><span class="line">    else</span><br><span class="line">        case $1 in</span><br><span class="line">            install | i)</span><br><span class="line">                install</span><br><span class="line">                ;;</span><br><span class="line">            proxy | p)</span><br><span class="line">                # todo æ ¡éªŒè¾“å…¥çš„å‚æ•°</span><br><span class="line">                [ -z &quot;$2&quot; ] &amp;&amp; [ -z &quot;$config_proxy&quot; ] &amp;&amp; exit 1</span><br><span class="line">                proxy $&#123;2:-$config_proxy&#125;</span><br><span class="line">                ;;</span><br><span class="line">            mirror | m)</span><br><span class="line">                [ -z &quot;$2&quot; ] &amp;&amp; [ -z &quot;$config_mirror&quot; ] &amp;&amp; exit 1</span><br><span class="line">                mirror $&#123;2:-$config_mirror&#125;</span><br><span class="line">                ;;</span><br><span class="line">            mirror-addtrust | mt)</span><br><span class="line">                [ -z &quot;$2&quot; ] &amp;&amp; [ -z &quot;$config_mirror_trust&quot; ] &amp;&amp; exit 1</span><br><span class="line">                mirror_trust $&#123;2:-$config_mirror_trust&#125;</span><br><span class="line">                [ -z &quot;$2&quot; ] &amp;&amp; [ -z &quot;$config_mirror&quot; ] &amp;&amp; exit 1</span><br><span class="line">                mirror $&#123;2:-$config_mirror&#125;</span><br><span class="line">                ;;</span><br><span class="line">            add-trust | at)</span><br><span class="line">                [ -z &quot;$2&quot; ] &amp;&amp; [ -z &quot;$config_mirror_trust&quot; ] &amp;&amp; exit 1</span><br><span class="line">                 mirror_trust $&#123;2:-$config_mirror_trust&#125;</span><br><span class="line">                ;;</span><br><span class="line">            rm-stoped | rs)</span><br><span class="line">                rm_stoped</span><br><span class="line">                ;;</span><br><span class="line">            compose)</span><br><span class="line">                install_docker_compose</span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                help</span><br><span class="line">                ;;</span><br><span class="line">        esac</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line">main $@</span><br></pre></td></tr></table></figure>

<h3><span id="archjava">archjava</span></h3><p>archlinuxå®˜æ–¹æä¾›çš„åˆ‡æ¢è„šæœ¬ï¼Œæˆ‘ä»¬å¯¹å…¶ç¨ä½œä¿®æ”¹ï¼Œè®©å…¶æ”¯æŒubuntuï¼Œå¹¶é™„å¸¦äº†installåŠŸèƒ½</p>
<h4><span id="ä½¿ç”¨">ä½¿ç”¨</span></h4><p>å®‰è£…</p>
<p><img src="/../assets/image_1732610680509_0.png" alt="image.png"></p>
<p>æŸ¥çœ‹å½“å‰å®‰è£…äº†é‚£äº›</p>
<p><img src="/../assets/image_1732610743279_0.png" alt="image.png"></p>
<p>ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬</p>
<p><img src="/../assets/image_1732611808092_0.png" alt="image.png"></p>
<h4><span id="ä»£ç ">ä»£ç </span></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Arch Linux helper script to <span class="built_in">set</span>/unset/check/fix the enabled Java environment</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This program may be freely redistributed under the terms of the GNU General Public License</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Author: Guillaume ALAUX &lt;guillaume@archlinux.org&gt;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Modify: by lzf, 2024-11-26</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">feature:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      1. add jdk download</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      2. support other linux</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">warning: this script will change /bin/java <span class="built_in">link</span></span></span><br><span class="line">JVM_DIR=/usr/lib/jvm</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">JVM_DIR=./jvm</span></span><br><span class="line">DEFAULT_NAME=default</span><br><span class="line">DEFAULT_PATH=$&#123;JVM_DIR&#125;/$&#123;DEFAULT_NAME&#125;</span><br><span class="line">DEFAULT_NAME_JRE=default-runtime</span><br><span class="line">DEFAULT_PATH_JRE=$&#123;JVM_DIR&#125;/$&#123;DEFAULT_NAME_JRE&#125;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ORIGIN_JAVA_LN=<span class="variable">$PWD</span>/bin/java</span></span><br><span class="line">ORIGIN_JAVA_LN=/bin/java</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Utility <span class="built_in">functions</span></span></span><br><span class="line">check_root() &#123;</span><br><span class="line">  return</span><br><span class="line">  if [ $(id -u) -ne 0 ]; then</span><br><span class="line">    echo &#x27;This script must be run as root&#x27;</span><br><span class="line">    exit 1</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$1</span>: parameter count given to this script <span class="keyword">for</span> this option</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$2</span>: expected parameter count <span class="keyword">for</span> this option</span></span><br><span class="line">check_param_count() &#123;</span><br><span class="line">  if [ $1 -ne $2 ]; then</span><br><span class="line">    echo &#x27;Wrong parameter count&#x27;</span><br><span class="line">    exit 2</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Second level <span class="built_in">functions</span></span></span><br><span class="line">get_default_java() &#123;</span><br><span class="line">  path=$(readlink -e $&#123;DEFAULT_PATH&#125;)</span><br><span class="line">  if [ &quot;x$&#123;path&#125;&quot; != &quot;x/dev/null&quot; ]; then</span><br><span class="line">    echo $&#123;path/$&#123;JVM_DIR&#125;\/&#125;</span><br><span class="line">  else</span><br><span class="line">    echo &quot;&quot;</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">get_installed_javas() &#123;</span><br><span class="line">  if [ -d $&#123;JVM_DIR&#125; ]; then</span><br><span class="line">    for dir in $(find $&#123;JVM_DIR&#125; -mindepth 1 -maxdepth 1 -type d | sort); do</span><br><span class="line">      if [ -x $&#123;dir&#125;/bin/java ]; then</span><br><span class="line">        javas+=($&#123;dir/$&#123;JVM_DIR&#125;\/&#125;)</span><br><span class="line">      else</span><br><span class="line">        if [ -x $&#123;dir&#125;/jre/bin/java ]; then</span><br><span class="line">        javas+=($&#123;dir/$&#123;JVM_DIR&#125;\/&#125;/jre)</span><br><span class="line">        fi</span><br><span class="line">      fi</span><br><span class="line">    done</span><br><span class="line">  fi</span><br><span class="line">  echo $&#123;javas[@]&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$1</span>: Java environment name to <span class="built_in">test</span></span></span><br><span class="line">is_java_valid() &#123;</span><br><span class="line">  test &quot;x$1&quot; != &quot;x$&#123;DEFAULT_NAME&#125;&quot; &amp;&amp; test -x $&#123;JVM_DIR&#125;/$1/bin/java</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$1</span>: Java environment name to <span class="built_in">set</span> as default</span></span><br><span class="line">set_default_link_to() &#123;</span><br><span class="line">  new_default=$1</span><br><span class="line">  unlink $&#123;DEFAULT_PATH&#125; 2&gt;/dev/null</span><br><span class="line">  ln -sf $&#123;new_default&#125; $&#123;DEFAULT_PATH&#125;</span><br><span class="line">  unlink $&#123;DEFAULT_PATH_JRE&#125; 2&gt;/dev/null</span><br><span class="line">  if [[ -d $&#123;new_default&#125;/jre ]]; then</span><br><span class="line">    ln -sf $&#123;new_default&#125;/jre $&#123;DEFAULT_PATH_JRE&#125;</span><br><span class="line">  else</span><br><span class="line">    ln -sf $&#123;new_default&#125; $&#123;DEFAULT_PATH_JRE&#125;</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">unset_default_link() &#123;</span><br><span class="line">  unlink $&#123;DEFAULT_PATH&#125; 2&gt;/dev/null</span><br><span class="line">  unlink $&#123;DEFAULT_PATH_JRE&#125; 2&gt;/dev/null</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">First level <span class="built_in">functions</span></span></span><br><span class="line">do_status() &#123;</span><br><span class="line">  installed_java=($(get_installed_javas))</span><br><span class="line">  if [ $&#123;#installed_java[@]&#125; -eq 0 ]; then</span><br><span class="line">    echo &#x27;No compatible Java environment installed&#x27;</span><br><span class="line">  else</span><br><span class="line">    default_java=$(get_default_java)</span><br><span class="line">    echo &#x27;Available Java environments:&#x27;</span><br><span class="line">    for java in $&#123;installed_java[@]&#125;; do</span><br><span class="line">      # We discoverd this Java env but its JRE is actually set as default</span><br><span class="line">      if [ &quot;$&#123;java&#125;/jre&quot; = &quot;$&#123;default_java&#125;&quot; ]; then</span><br><span class="line">        echo -e &quot;  $&#123;java&#125; ($&#123;java&#125;/jre default)&quot;</span><br><span class="line">      elif [ $&#123;java&#125; = &quot;$&#123;default_java&#125;&quot; ]; then</span><br><span class="line">        echo -e &quot;  $&#123;java&#125; (default)&quot;</span><br><span class="line">      else</span><br><span class="line">        echo &quot;  $&#123;java&#125;&quot;</span><br><span class="line">      fi</span><br><span class="line">    done</span><br><span class="line">    if [ -z $&#123;default_java&#125; ]; then</span><br><span class="line">      echo &quot;No Java environment set as default&quot;</span><br><span class="line">    fi</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">do_get() &#123;</span><br><span class="line">  get_default_java</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$1</span>: Java environment name to <span class="built_in">set</span> as default</span></span><br><span class="line">do_set() &#123;</span><br><span class="line">  if ! is_java_valid $1; then</span><br><span class="line">    echo &quot;&#x27;$&#123;JVM_DIR&#125;/$1&#x27; is not a valid Java environment path&quot;</span><br><span class="line">    exit 1</span><br><span class="line">  fi</span><br><span class="line">  default=$(get_default_java)</span><br><span class="line">  if [ &quot;x$1&quot; != &quot;x$&#123;default&#125;&quot; ] || ! is_java_valid $&#123;default&#125;; then</span><br><span class="line">    unset_default_link</span><br><span class="line">    set_default_link_to $1</span><br><span class="line">  fi</span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">parent_dir=$(<span class="built_in">dirname</span> <span class="variable">$1</span>)</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="keyword">if</span> is_java_valid <span class="variable">$&#123;parent_dir&#125;</span>; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;Warning: &#x27;<span class="variable">$&#123;parent_dir&#125;</span>&#x27; looks like a valid JDK whereas &#x27;<span class="variable">$1</span>&#x27; is set as default&quot;</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;Fix this with &#x27;archlinux-java set <span class="variable">$&#123;parent_dir&#125;</span>&#x27;&quot;</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="keyword">fi</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$1</span>: Java environment name to <span class="built_in">unset</span></span></span><br><span class="line">do_unset() &#123;</span><br><span class="line">  unset_default_link</span><br><span class="line">&#125;</span><br><span class="line">do_fix() &#123;</span><br><span class="line">  default=$(get_default_java)</span><br><span class="line">  if is_java_valid $&#123;default&#125;; then</span><br><span class="line">    # If its parent is also a valid Java environment</span><br><span class="line">    if is_java_valid $(dirname $&#123;default&#125;); then</span><br><span class="line">      unset_default_link</span><br><span class="line">      set_default_link_to $(dirname $&#123;default&#125;)</span><br><span class="line">    fi</span><br><span class="line">  else</span><br><span class="line">    prev=$(readlink $&#123;DEFAULT_PATH&#125;)</span><br><span class="line">    unset_default_link</span><br><span class="line">    potential_fixes=(&quot;$&#123;prev/\/jre&#125;&quot; &quot;$&#123;prev&#125;/jre&quot;)</span><br><span class="line">    openjdk8=(&#x27;java-8-openjdk&#x27; &#x27;java-8-openjdk/jre&#x27;)</span><br><span class="line">    # List of environments to check by order of preference:</span><br><span class="line">    # - first potential fixes of user choices,</span><br><span class="line">    # - then OpenJDK8 as it is considered a default in Arch Linux</span><br><span class="line">    # - finally, any installed environment</span><br><span class="line">    to_check=($&#123;potential_fixes[@]&#125; $&#123;openjdk8[@]&#125; $(get_installed_javas))</span><br><span class="line">    for java in $&#123;to_check[@]&#125;; do</span><br><span class="line">      if ! is_java_valid $(get_default_java) &amp;&amp; is_java_valid $&#123;java&#125;; then</span><br><span class="line">        set_default_link_to $&#123;java&#125;</span><br><span class="line">      fi</span><br><span class="line">    done</span><br><span class="line">  fi</span><br><span class="line">  if ! is_java_valid $(get_default_java); then</span><br><span class="line">    echo &#x27;No valid Java environment found&#x27;</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½å¹¶è§£å‹ï¼Œé¿å…ç¹ççš„æ“ä½œ</span></span><br><span class="line">download_and_untar()&#123;</span><br><span class="line">  file=&quot;$JVM_DIR/$1&quot;</span><br><span class="line">  wget -O &quot;$file&quot; &quot;$2&quot;</span><br><span class="line">  tar -xf &quot;$file&quot; -C &quot;$JVM_DIR&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™é‡Œå†™æ­»äº†</span></span><br><span class="line">install()&#123;</span><br><span class="line">  case $1 in</span><br><span class="line">    8)</span><br><span class="line">      download_and_untar jdk-8u421-linux-x64.tar.gz https://d.injdk.cn/d/download/oraclejdk/8/jdk-8u421-linux-x64.tar.gz</span><br><span class="line">      ;;</span><br><span class="line">    11)</span><br><span class="line">      download_and_untar jdk-11.0.24_linux-x64_bin.tar.gz https://d.injdk.cn/d/download/oraclejdk/11/jdk-11.0.24_linux-x64_bin.tar.gz</span><br><span class="line">      ;;</span><br><span class="line">    17)</span><br><span class="line">      download_and_untar jdk-17_linux-x64_bin.tar.gz https://d.injdk.cn/d/download/oraclejdk/17/jdk-17_linux-x64_bin.tar.gz</span><br><span class="line">      ;;</span><br><span class="line">    21)</span><br><span class="line">      download_and_untar jdk-21_linux-x64_bin.tar.gz https://d.injdk.cn/d/download/oraclejdk/21/jdk-21_linux-x64_bin.tar.gz</span><br><span class="line">      ;;</span><br><span class="line">    23)</span><br><span class="line">      download_and_untar jdk-23_linux-x64_bin.tar.gz https://d.injdk.cn/d/download/oraclejdk/23/jdk-23_linux-x64_bin.tar.gz</span><br><span class="line">      ;;</span><br><span class="line">    *)</span><br><span class="line">      echo &quot;æš‚ä¸æ”¯æŒ$1&quot;</span><br><span class="line">      exit 1</span><br><span class="line">      ;;</span><br><span class="line">  esac</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸ºäº†å…¼å®¹å…¶ä»–å‘è¡Œç‰ˆï¼Œå¼ºåˆ¶å°†/bin/javaè¿æ¥åˆ°äº†<span class="variable">$JDK_DIR</span>/default/bin/java</span></span><br><span class="line">change_ln()&#123;</span><br><span class="line">  if [ -f $ORIGIN_JAVA_LN ];then</span><br><span class="line">    if ! [[ $(readlink $ORIGIN_JAVA_LN) == *default* ]]; then</span><br><span class="line">      cp $ORIGIN_JAVA_LN &quot;.$ORIGIN_JAVA_LN.back&quot;</span><br><span class="line">      unlink /bin/java</span><br><span class="line">      ln -s &quot;$JVM_DIR/default/bin/java&quot; $ORIGIN_JAVA_LN</span><br><span class="line">    fi</span><br><span class="line">  else</span><br><span class="line">    ln -s &quot;$JVM_DIR/default/bin/java&quot; $ORIGIN_JAVA_LN</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">usage() &#123;</span><br><span class="line">  echo &quot;$(basename $0) &lt;COMMAND&gt;&quot;</span><br><span class="line">  echo -e &quot;\nCOMMAND:&quot;</span><br><span class="line">  echo -e &#x27;\tstatus\t\tList installed Java environments and enabled one&#x27;</span><br><span class="line">  echo -e &#x27;\tget\t\tReturn the short name of the Java environment set as default&#x27;</span><br><span class="line">  echo -e &#x27;\tset &lt;JAVA_ENV&gt;\tForce &lt;JAVA_ENV&gt; as default&#x27;</span><br><span class="line">  echo -e &#x27;\tunset\t\tUnset current default Java environment&#x27;</span><br><span class="line">  echo -e &#x27;\tfix\t\tFix an invalid/broken default Java environment configuration&#x27;</span><br><span class="line">  echo -e &#x27;\tinstall 8/11/17/21/23\t\tInstall jdk tar&#x27;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–</span></span><br><span class="line">init()&#123;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">åˆ¤æ–­jvmç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">  if [ ! -d &quot;$JVM_DIR&quot; ]; then</span><br><span class="line">    mkdir -p &quot;$JVM_DIR&quot;</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Main</span></span></span><br><span class="line">init</span><br><span class="line">case $1 in</span><br><span class="line">  &#x27;status&#x27;) do_status;;</span><br><span class="line">  &#x27;get&#x27;)    do_get;;</span><br><span class="line">  &#x27;set&#x27;)    check_root; check_param_count $# 2; do_set $2; change_ln;;</span><br><span class="line">  &#x27;unset&#x27;)  check_root; do_unset;;</span><br><span class="line">  &#x27;fix&#x27;)    check_root; do_fix;;</span><br><span class="line">  &#x27;install&#x27;) check_root; install $2;;</span><br><span class="line">  &#x27;help&#x27; | &#x27;--help&#x27; | &#x27;-h&#x27; | &#x27;&#x27;) usage;;</span><br><span class="line">  *)           echo &quot;$(basename $0): unknown option &#x27;$@&#x27;&quot;; exit 1;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<h3><span id="ç½‘å¡é…ç½®">ç½‘å¡é…ç½®</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æµ‹ç³»ç»Ÿç±»å‹</span></span><br><span class="line">function detect_os() &#123;</span><br><span class="line">    if [[ -f /etc/os-release ]]; then</span><br><span class="line">        . /etc/os-release</span><br><span class="line">        echo &quot;$ID&quot;</span><br><span class="line">    else</span><br><span class="line">        echo &quot;æ— æ³•æ£€æµ‹æ“ä½œç³»ç»Ÿç±»å‹ã€‚&quot;</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹ IP åœ°å€</span></span><br><span class="line">function set_ip() &#123;</span><br><span class="line">    local iface=&quot;$1&quot;</span><br><span class="line">    local ip=&quot;$2&quot;</span><br><span class="line">    local netmask=&quot;$3&quot;</span><br><span class="line">    sudo ip addr flush dev &quot;$iface&quot;  # æ¸…é™¤ç°æœ‰ IP åœ°å€</span><br><span class="line">    sudo ip addr add &quot;$ip/$netmask&quot; dev &quot;$iface&quot;  # æ·»åŠ æ–° IP åœ°å€</span><br><span class="line">    sudo ip link set &quot;$iface&quot; up  # å¯åŠ¨ç½‘å¡</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹ DNS</span></span><br><span class="line">function set_dns() &#123;</span><br><span class="line">    local dns=&quot;$1&quot;</span><br><span class="line">    local connection_name=&quot;$(nmcli -t -f name con show --active | grep -m 1 &quot;$iface&quot;)&quot;</span><br><span class="line">    if [ -z &quot;$connection_name&quot; ]; then</span><br><span class="line">        echo &quot;æœªæ‰¾åˆ°æ´»åŠ¨è¿æ¥ï¼Œæ— æ³•è®¾ç½® DNSã€‚&quot;</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line">    nmcli con mod &quot;$connection_name&quot; ipv4.dns &quot;$dns&quot;</span><br><span class="line">    nmcli con up &quot;$connection_name&quot;  # é‡æ–°å¯åŠ¨è¿æ¥</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸»ç¨‹åº</span></span><br><span class="line">OS_NAME=$(detect_os)</span><br><span class="line">read -p &quot;è¯·è¾“å…¥ç½‘å¡åç§° (ä¾‹å¦‚ ens33): &quot; iface</span><br><span class="line">read -p &quot;è¯·è¾“å…¥æ–°çš„ IP åœ°å€ (ä¾‹å¦‚ 192.168.1.122): &quot; ip</span><br><span class="line">read -p &quot;è¯·è¾“å…¥å­ç½‘æ©ç  (ä¾‹å¦‚ 24): &quot; netmask</span><br><span class="line">read -p &quot;è¯·è¾“å…¥æ–°çš„ DNS åœ°å€ (ä¾‹å¦‚ 8.8.8.8): &quot; dns</span><br><span class="line">set_ip &quot;$iface&quot; &quot;$ip&quot; &quot;$netmask&quot;</span><br><span class="line">set_dns &quot;$dns&quot;</span><br></pre></td></tr></table></figure>

<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/26/day12_kls/" data-id="cm4ockldr0006a3iwctts8zll" data-title="day12_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/" rel="tag">shell</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day11_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/25/day11_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-25T14:12:52.000Z" itemprop="datePublished">2024-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/25/day11_kls/">day11_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="thinkphpx2f5-rce">thinkphp&#x2F;5-rce</span></h3><p>å¼€å¯å®¹å™¨åè®¿é—®<code>http://localhost:8099/index.php?s=/Index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=shell_exec&amp;vars[1][]=ls%20-la</code></p>
<p><img src="/../assets/image_1732504864187_0.png" alt="image.png"></p>
<h3><span id="å‘½ä»¤æ‹¼æ¥">å‘½ä»¤æ‹¼æ¥</span></h3><p>è¿™é‡Œçš„å‘½ä»¤æ‹¼æ¥æ„å‘³ä¸€æ¬¡æ‰§è¡Œå¤šä¸ªå‘½ä»¤</p>
<p><code>;</code>æ‰§è¡Œå‰é¢çš„å‘½ä»¤åï¼Œæ¥ç€æ‰§è¡Œåé¢çš„</p>
<p><code>&amp;</code>å®é™…ä¸Šå…¶æ˜¯è®©å‘½ä»¤åå°è¿è¡Œ</p>
<p><code>&amp;&amp;</code>,<code>||</code>å®é™…ä¸Šè¿™ä¸¤ä½æ˜¯é€»è¾‘æ“ä½œç¬¦ï¼Œå°½é‡é¿å…ä½¿ç”¨</p>
<p><code>|</code>å®é™…ä¸Šå…¶æ˜¯ç®¡é“ç¬¦ï¼Œç”¨æˆ·å°†ä¸Šä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</p>
<p>å¦™ç”¨echo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;`ls` `echo 123`&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="shellè„šæœ¬">shellè„šæœ¬</span></h3><h4><span id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</span></h4><p><code>PATH</code>å¯æ‰§è¡Œç¨‹åºçš„è·¯å¾„</p>
<p><code>PWD</code>å½“å‰æ‰€åœ¨çš„ç›®å½•</p>
<p><code>SHELL</code>å½“å‰ä½¿ç”¨çš„shell</p>
<h4><span id="39å’Œquotçš„åŒºåˆ«"><code>&#39;</code>å’Œ<code>&quot;</code>çš„åŒºåˆ«</span></h4><p><code>&#39;</code>å­—ç¬¦åŸå§‹æ•°æ®ï¼Œ<code>&quot;</code>å¯ä»¥è§£æå…¶ä¸­çš„å˜é‡å€¼</p>
<h4><span id="å˜é‡å®šä¹‰ä»¥åŠä½¿ç”¨">å˜é‡å®šä¹‰ä»¥åŠä½¿ç”¨</span></h4><p>é™å®šç¬¦<code>local</code>å½“å‰ä½œç”¨åŸŸ,<code>export</code>ä½œä¸ºç¯å¢ƒå˜é‡</p>
<p><code>name=value</code>å®šä¹‰</p>
<p><code>$name</code></p>
<h4><span id="å‚æ•°">å‚æ•°</span></h4><p>ä¼ å‚<code>fun1 var1 var2</code></p>
<p>å¤„ç†å‚æ•°</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun()&#123;</span><br><span class="line">	echo $1 $2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç‰¹æ®Šçš„</p>
<p><code>$0</code>ä¸ºè¯¥è„šæœ¬æœ¬èº«çš„åå­—</p>
<p><code>$#</code>ï¼šè¡¨ç¤ºä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚</p>
<p><code>$@</code>ï¼šè¡¨ç¤ºæ‰€æœ‰ä¼ å…¥çš„å‚æ•°ï¼ˆä»¥ç‹¬ç«‹å½¢å¼æ˜¾ç¤ºï¼Œæ¯ä¸ªå‚æ•°éƒ½ä¿ç•™ä¸ºå•ç‹¬çš„å­—ç¬¦ä¸²ï¼‰<br><code>$*</code>ï¼šè¡¨ç¤ºæ‰€æœ‰ä¼ å…¥çš„å‚æ•°ï¼ˆä»¥ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼æ˜¾ç¤ºï¼Œæ‰€æœ‰å‚æ•°è¢«åˆå¹¶ï¼‰</p>
<h4><span id="è¿ç®—">è¿ç®—</span></h4><p>ç®—æœ¯ï¼š</p>
<p><code>expr</code>(ä¸æ¨è)</p>
<p><code>echo &#39;1+1&#39; | bc</code></p>
<p>(æ¨è)</p>
<p><code>$(( a + b ))</code></p>
<p><code>let x=a+b</code></p>
<p>å­—ç¬¦ä¸²ï¼š</p>
<p><code>$&#123;#var1&#125;</code>å­—ç¬¦ä¸²é•¿åº¦</p>
<p><code>$&#123;str:start:end&#125;</code>æˆªå–å­—ç¬¦ä¸²</p>
<p><code>$&#123;str/old/new&#125;</code>æ›¿æ¢å­—ç¬¦</p>
<h4><span id="æµç¨‹ifcase">æµç¨‹if,case</span></h4><p>è¯­æ³•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ condition ]; then</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">elif [ another_condition ]; then</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">else</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h4><span id="å¾ªç¯forwhile">å¾ªç¯for,while</span></h4><p>forè¯­æ³•:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for i in $@ ; do</span><br><span class="line">    if [[ condition ]]; then</span><br><span class="line">        continue</span><br><span class="line">    fi</span><br><span class="line">    if [[ condition ]]; then</span><br><span class="line">        break</span><br><span class="line">    fi</span><br><span class="line">    # cmmmands</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>whileè¯­æ³•:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while [ condition ]; do</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h4><span id="conditionç›¸å…³">conditionç›¸å…³</span></h4><p>| ç‰¹æ€§ | <code>[ ]</code> | <code>[[ ]]</code> | æ— æ‹¬å· |<br>| â€”- | â€”- | â€”- |<br>| <strong>æœ¬è´¨</strong> | <code>test</code> å‘½ä»¤ | Bash å†…ç½®åŠŸèƒ½ | ç›´æ¥æ‰§è¡Œå‘½ä»¤ |<br>| <strong>æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼</strong> | ä¸æ”¯æŒ | æ”¯æŒ | å–å†³äºå‘½ä»¤ |<br>| <strong>æ”¯æŒé€»è¾‘è¿ç®—ç¬¦</strong> | éœ€è¦ä½¿ç”¨ <code>-a</code> å’Œ <code>-o</code> | ä½¿ç”¨ <code>&amp;&amp;</code> å’Œ &#96; |  |<br>| <strong>å˜é‡åŒå¼•å·è¦æ±‚</strong> | å¿…é¡»åŠ  | å¯çœç•¥ | é€šå¸¸ä¸éœ€è¦ |<br>| <strong>å®‰å…¨æ€§</strong> | è¾ƒä½ï¼ˆæ˜“å—ç©ºå€¼æˆ–ç‰¹æ®Šå­—ç¬¦å½±å“ï¼‰ | é«˜ | é«˜ |</p>
<h3><span id="æ•£ç¢çš„çŸ¥è¯†ç‚¹">æ•£ç¢çš„çŸ¥è¯†ç‚¹</span></h3><h4><span id="poc">poc</span></h4><p><code>Proof of Concept</code>,æ¼æ´æ¦‚å¿µéªŒè¯ä»£ç æˆ–è„šæœ¬ï¼Œç”¨äºè¯æ˜æŸä¸ªæ¼æ´çš„å­˜åœ¨ã€è§¦å‘æ¡ä»¶ä»¥åŠå¯èƒ½çš„å±å®³ã€‚</p>
<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="è‡ªåŠ¨æ›´æ–°aptå’Œyumæºçš„è„šæœ¬">è‡ªåŠ¨æ›´æ–°aptå’Œyumæºçš„è„šæœ¬</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># author: lzf</span><br><span class="line"># feature:</span><br><span class="line">#     1. suport ubuntu,debinen,centos,kali</span><br><span class="line">#     2. backup and restore</span><br><span class="line"># todo:</span><br><span class="line">#     1. yumæºæ›´æ–°ï¼Œä»…æ”¯æŒäº†centos7</span><br><span class="line">#     1. aptæºæ›´æ–°ï¼Œé—æ¼äº†éƒ¨åˆ†æº</span><br><span class="line"># å¸®åŠ©</span><br><span class="line">help()&#123;</span><br><span class="line">    echo &quot;$0 update | backup | restore [file_real_path] | list-backup&quot;</span><br><span class="line">&#125;</span><br><span class="line"># åˆå§‹åŒ–</span><br><span class="line">init()&#123;</span><br><span class="line">    check_depen</span><br><span class="line">    get_os_info</span><br><span class="line">    case $ID in</span><br><span class="line">        ubuntu)</span><br><span class="line">            ;;</span><br><span class="line">        debian)</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            if [ $VERSION_ID != &#x27;7&#x27; ]; then</span><br><span class="line">                echo &quot;Error, Only support centos7.&quot;</span><br><span class="line">                exit 1</span><br><span class="line">            fi</span><br><span class="line">            ;;</span><br><span class="line">        kali)</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo &quot;Error: $ID is not supported.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line"># è·å–ç³»ç»Ÿæºè·¯å¾„(ç”¨äºè·å–å¤‡ä»½æ–‡ä»¶)</span><br><span class="line">get_os_source_path()&#123;</span><br><span class="line">    file_list=()</span><br><span class="line">    case $ID in</span><br><span class="line">        arch)</span><br><span class="line">            file_list+=(&quot;/etc/pacman.d/mirrorlist&quot;)</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            for f in /etc/yum.repos.d/*.repo; do</span><br><span class="line">                file_list+=(&quot;$f&quot;)</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            file_list+=(&quot;/etc/apt/sources.list&quot;)</span><br><span class="line">            for f in /etc/apt/sources.list.d/*; do</span><br><span class="line">                if [[ &quot;$f&quot; != *back ]]; then</span><br><span class="line">                    file_list+=(&quot;$f&quot;)</span><br><span class="line">                fi</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">    if [ -z $1 ]; then</span><br><span class="line">        echo $&#123;file_list[@]&#125;</span><br><span class="line">    elif [ $1 = &quot;backup&quot; ]; then</span><br><span class="line">        new_list=()</span><br><span class="line">        for f in $&#123;file_list[@]&#125;;do</span><br><span class="line">            # å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™æ”¾å…¥æ–°çš„æ•°ç»„</span><br><span class="line">            if [ -f $f ]; then</span><br><span class="line">                new_list+=(&quot;$f.back&quot;)</span><br><span class="line">            fi</span><br><span class="line">        done</span><br><span class="line">        echo $&#123;new_list[@]&#125;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># æ£€æµ‹ä¾èµ–è½¯ä»¶åŒ…</span><br><span class="line">check_depen()&#123;</span><br><span class="line">    local depen=(&quot;ls&quot; &quot;declare&quot;)</span><br><span class="line">    for c in $&#123;depen[@]&#125;; do</span><br><span class="line">        has_cmd $c || &#123;</span><br><span class="line">            echo &quot;Error: $c is not installed.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">        &#125;</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line">has_cmd () &#123;</span><br><span class="line">    command -v $1 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"># è·å–å½“å‰ç³»ç»Ÿä¿¡æ¯</span><br><span class="line">get_os_info()&#123;</span><br><span class="line">    if [ -f /etc/os-release ]; then</span><br><span class="line">        source /etc/os-release</span><br><span class="line">    else</span><br><span class="line">        echo &quot;Error: /etc/os-release not found.&quot;</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># å¤‡ä»½é•œåƒæº(å•ä¸ªæ–‡ä»¶)</span><br><span class="line">backup_source()&#123;</span><br><span class="line">    if [ -f $1 ]; then</span><br><span class="line">        cp $1 $1.back \</span><br><span class="line">            &amp;&amp; echo &quot;$1 Backup success.Backup file is $1.back&quot; \</span><br><span class="line">            || echo &quot;$1 Backup failed.&quot;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># æ¢å¤å¤‡ä»½æº(å•ä¸ªæ–‡ä»¶)</span><br><span class="line">restore_source()&#123;</span><br><span class="line">    backup_file_path=$1</span><br><span class="line">    if [ -f $backup_file_path ]; then</span><br><span class="line">        file_postfix=$&#123;backup_file_path:($&#123;#backup_file_path&#125;-4):$&#123;#backup_file_path&#125;&#125;</span><br><span class="line">        origin_file_path=$&#123;backup_file_path:0:($&#123;#backup_file_path&#125;-5)&#125;</span><br><span class="line">        echo $file_postfix</span><br><span class="line">        echo $origin_file_path</span><br><span class="line">        if [ $&#123;backup_file_path:($&#123;#backup_file_path&#125;-4):$&#123;#backup_file_path&#125;&#125; = &#x27;back&#x27; ]; then</span><br><span class="line">            if [ -f $origin_file_path ]; then</span><br><span class="line">                rm $origin_file_path</span><br><span class="line">            fi</span><br><span class="line">            cp $backup_file_path $origin_file_path \</span><br><span class="line">                &amp;&amp; echo &quot;$backup_file_path Restore success.Restore file is $origin_file_path&quot; \</span><br><span class="line">                || echo &quot;$backup_file_path Restore failed.&quot;</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># åˆ—å‡ºæ‰€æœ‰å¤‡ä»½æ–‡ä»¶</span><br><span class="line">list_backup_source()&#123;</span><br><span class="line">    files=`get_os_source_path back`</span><br><span class="line">    if [ -z $files ];then</span><br><span class="line">        return 0</span><br><span class="line">    else</span><br><span class="line">        for file in $files; do</span><br><span class="line">            echo backup_file: `realpath $file`</span><br><span class="line">        done</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># å¤‡ä»½æº</span><br><span class="line">backup()&#123;</span><br><span class="line">    case $ID in</span><br><span class="line">        centos)</span><br><span class="line">            p=`get_os_source_path backup`</span><br><span class="line">            echo $p</span><br><span class="line">            for f in ls $p ; do</span><br><span class="line">                backup_source $f</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            echo &quot;æ­£åœ¨ç¼–å†™ä»£ç ï¼Œæš‚æ—¶ä¸æ”¯æŒ$ID&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo `get_os_source_path`</span><br><span class="line">            for f in `get_os_source_path`; do</span><br><span class="line">                backup_source $f</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line"># å¯¹æºæ–‡ä»¶è¿›è¡Œsedæ“ä½œ</span><br><span class="line">sed_list()&#123;</span><br><span class="line">    for f in `get_os_source_path`; do</span><br><span class="line">        echo &quot;æ­£åœ¨ä¸º$&#123;f&#125;è¿›è¡Œsedæ“ä½œ...&quot;</span><br><span class="line">        sed -i &quot;$1&quot; $f</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line"># aptæ›´æ–°</span><br><span class="line">update_apt()&#123;</span><br><span class="line">    apt update \</span><br><span class="line">        &amp;&amp; echo &quot;Update success.&quot; \</span><br><span class="line">        || echo &quot;Update failed.&quot;</span><br><span class="line">&#125;</span><br><span class="line"># æ¢æº</span><br><span class="line">change_source()&#123;</span><br><span class="line">    case $ID in</span><br><span class="line">        ubuntu)</span><br><span class="line">            sed_list &quot;s@//.*archive.ubuntu.com@//mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        debian)</span><br><span class="line">            sed_list &quot;s@http://\(deb.debian.org\|archive.debian.org\)@https://mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            if [ $VERSION_ID -eq &#x27;7&#x27; ] ;then</span><br><span class="line">                # todo</span><br><span class="line">                curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">                curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">                sed -i &#x27;s/http:\/\/mirrors.cloud.aliyuncs.com/url_tmp/g&#x27;  /etc/yum.repos.d/CentOS-Base.repo &amp;&amp;  sed -i &#x27;s/http:\/\/mirrors.aliyun.com/http:\/\/mirrors.cloud.aliyuncs.com/g&#x27; /etc/yum.repos.d/CentOS-Base.repo &amp;&amp; sed -i &#x27;s/url_tmp/http:\/\/mirrors.aliyun.com/g&#x27; /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">                yum clean all &amp;&amp; yum makecache \</span><br><span class="line">                    &amp;&amp; echo &quot;Update success.&quot; \</span><br><span class="line">                    || echo &quot;Update failed.&quot;</span><br><span class="line">            fi</span><br><span class="line">            ;;</span><br><span class="line">        kali)</span><br><span class="line">            sed_list &quot;s@http://http.kali.org@https://mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            echo &quot;æ­£åœ¨ç¼–å†™ä»£ç ï¼Œæš‚æ—¶ä¸æ”¯æŒ$ID&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line">main()&#123;</span><br><span class="line">    init</span><br><span class="line">    #ID=&quot;centos&quot;</span><br><span class="line">    if [ $# -eq 0 ]; then</span><br><span class="line">        backup</span><br><span class="line">        change_source</span><br><span class="line">    else</span><br><span class="line">        case $1 in</span><br><span class="line">            &quot;update&quot;)</span><br><span class="line">                backup</span><br><span class="line">                change_source</span><br><span class="line">                ;;</span><br><span class="line">            &quot;backup&quot;)</span><br><span class="line">                backup</span><br><span class="line">                ;;</span><br><span class="line">            &quot;restore&quot;)</span><br><span class="line">                if [ -f $2 ]; then</span><br><span class="line">                    restore_source $2</span><br><span class="line">                else</span><br><span class="line">                    echo &quot;Error: $2 not found.&quot;</span><br><span class="line">                fi</span><br><span class="line">                ;;</span><br><span class="line">            &quot;list-backup&quot;)</span><br><span class="line">                list_backup_source</span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                help</span><br><span class="line">                ;;</span><br><span class="line">        esac</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line">main $@</span><br></pre></td></tr></table></figure>

<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/25/day11_kls/" data-id="cm4ockldp0004a3iw8efagilm" data-title="day11_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rce/" rel="tag">rce</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day10_kls_review" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/23/day10_kls_review/" class="article-date">
  <time class="dt-published" datetime="2024-11-23T06:45:08.000Z" itemprop="datePublished">2024-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/23/day10_kls_review/">day10_kls_review</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="docker-compose">docker-compose</span></h3><h4><span id="ymlçš„æ„æˆ">ymlçš„æ„æˆ</span></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.9&#x27;</span>  <span class="comment"># Compose æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬</span></span><br><span class="line"><span class="attr">services:</span>       <span class="comment"># æœåŠ¡å®šä¹‰</span></span><br><span class="line">  <span class="attr">service_name:</span> <span class="comment"># æœåŠ¡åç§°</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">image_name:tag</span>  <span class="comment"># ä½¿ç”¨çš„é•œåƒå’Œæ ‡ç­¾</span></span><br><span class="line">    <span class="attr">build:</span>       <span class="comment"># æ„å»ºé€‰é¡¹ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./path</span>      <span class="comment"># Dockerfile çš„ä¸Šä¸‹æ–‡ç›®å½•</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span>  <span class="comment"># Dockerfile æ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">container_name</span> <span class="comment"># å®¹å™¨åç§°ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">    <span class="attr">ports:</span>        <span class="comment"># ç«¯å£æ˜ å°„</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;å¤–éƒ¨ç«¯å£:å®¹å™¨ç«¯å£&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span>      <span class="comment"># æ•°æ®å·æŒ‚è½½</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;å®¿ä¸»è·¯å¾„:å®¹å™¨è·¯å¾„&quot;</span></span><br><span class="line">    <span class="attr">environment:</span>  <span class="comment"># ç¯å¢ƒå˜é‡</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KEY=value</span></span><br><span class="line">    <span class="attr">depends_on:</span>   <span class="comment"># æœåŠ¡ä¾èµ–å…³ç³»</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">other_service_name</span></span><br><span class="line">    <span class="attr">networks:</span>     <span class="comment"># ç½‘ç»œé…ç½®</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">network_name</span></span><br><span class="line"><span class="attr">networks:</span>         <span class="comment"># è‡ªå®šä¹‰ç½‘ç»œï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">  <span class="attr">network_name:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line"><span class="attr">volumes:</span>          <span class="comment"># å®šä¹‰æ•°æ®å·ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">  <span class="attr">volume_name:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">local</span></span><br></pre></td></tr></table></figure>

<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="docker-composeæ­å»ºharbor">docker-composeæ­å»ºharbor</span></h3><p><img src="/../assets/image_1732239707110_0.png" alt="image.png"></p>
<blockquote>
<p>å·²ç»å¯åŠ¨è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºå¯åŠ¨äº†</p>
</blockquote>
<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><p>å¤ä¹ å†…å®¹æ²¡å†™ï¼Œç´¯äº†ï¼Œå‘¨äº”ä¸‹åˆæ‰“æ¸¸æˆå»äº†ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/23/day10_kls_review/" data-id="cm4ockldl0002a3iweysw2ljw" data-title="day10_kls_review" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/review/" rel="tag">review</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week2_kls_exam" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/22/week2_kls_exam/" class="article-date">
  <time class="dt-published" datetime="2024-11-22T07:03:19.000Z" itemprop="datePublished">2024-11-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/22/week2_kls_exam/">week2_kls_exam</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="é¢˜ç›®1">é¢˜ç›®1</span></h2><p>é…ç½®vsftpdæœåŠ¡ï¼Œæ·»åŠ ftpæœåŠ¡ç”¨æˆ·lihuaï¼Œå¹¶é™åˆ¶lihuaä½¿ç”¨ftpæœåŠ¡çš„è®¿é—®è·¯å¾„ä¸º&#x2F;usr&#x2F;share&#x2F;ftp_files<br>id:: 67401618-77f2-4cd7-ab26-b033e352aa66</p>
<h3><span id="step1æ·»åŠ ç”¨æˆ·å¹¶è®¾ç½®å®¶ç›®å½•ä»¥åŠå®¶ç›®å½•æƒé™è®¾ç½®å¯†ç ">step1ï¼šæ·»åŠ ç”¨æˆ·ï¼Œå¹¶è®¾ç½®å®¶ç›®å½•ï¼Œä»¥åŠå®¶ç›®å½•æƒé™ï¼Œè®¾ç½®å¯†ç </span></h3><p><img src="/../assets/image_1732253536205_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732254737383_0.png" alt="image.png"></p>
<h3><span id="step2ä¿®æ”¹vsftpé…ç½®æ–‡ä»¶">step2ï¼šä¿®æ”¹vsftpé…ç½®æ–‡ä»¶</span></h3><p><img src="/../assets/image_1732254394767_0.png" alt="image.png"></p>
<p>ä¿®æ”¹<code>/etc/vsftpd/vsftpd_userlist</code></p>
<p><img src="/../assets/image_1732253873260_0.png" alt="image.png"></p>
<p>åˆ›å»º<code>/etc/vsftpd/user_conf</code>ç›®å½•ï¼Œå¹¶æ·»åŠ <code>lihua</code>é…ç½®æ–‡ä»¶</p>
<p><img src="/../assets/image_1732253955889_0.png" alt="image.png"></p>
<h3><span id="step3é‡æ–°åŠ è½½vsftpé…ç½®æ–‡ä»¶å¹¶é‡å¯">step3:é‡æ–°åŠ è½½vsftpé…ç½®æ–‡ä»¶å¹¶é‡å¯</span></h3><p><img src="/../assets/image_1732254036298_0.png" alt="image.png"></p>
<h3><span id="step4è¿æ¥ftp">step4:è¿æ¥ftp</span></h3><p><img src="/../assets/image_1732254539764_0.png" alt="image.png"></p>
<p><img src="/../assets/vsftp_1732254502349_0.gif" alt="vsftp.gif"></p>
<h2><span id="é¢˜ç›®2">é¢˜ç›®2</span></h2><p>é…ç½®sshæœåŠ¡ï¼Œè¦æ±‚ç”¨æˆ·jackå¯ä»¥ä½¿ç”¨id_rsa å…å¯†ç™»å½•ssh</p>
<p>server: centos.pcx.home</p>
<p>client: kali.pcx.home</p>
<h3><span id="step1æ·»åŠ jackç”¨æˆ·åˆ›å»ºå®¶ç›®å½•è®¾ç½®å¯†ç ">step1:æ·»åŠ jackç”¨æˆ·,åˆ›å»ºå®¶ç›®å½•ï¼Œè®¾ç½®å¯†ç </span></h3><p><img src="/../assets/image_1732254970492_0.png" alt="image.png"></p>
<h3><span id="step2è®©jackç”Ÿæˆsshå…¬ç§é’¥åŒ™å¯¹">step2:è®©jackç”Ÿæˆsshå…¬ç§é’¥åŒ™å¯¹</span></h3><p><img src="/../assets/image_1732255036501_0.png" alt="image.png"></p>
<h3><span id="step3ä¸Šä¼ å…¬é’¥">step3ï¼šä¸Šä¼ å…¬é’¥</span></h3><p><img src="/../assets/image_1732255169120_0.png" alt="image.png"></p>
<h3><span id="step4ç™»é™†centos">step4ï¼šç™»é™†centos</span></h3><p><img src="/../assets/image_1732255239120_0.png" alt="image.png"></p>
<p>åœ¨centosç«¯æŸ¥çœ‹åœ¨çº¿ç”¨æˆ·ï¼š</p>
<p><img src="/../assets/image_1732255267589_0.png" alt="image.png"></p>
<p>åœ¨centosç«¯æŸ¥çœ‹<code>~/.ssh/authorized_keys</code></p>
<p><img src="/../assets/image_1732255349220_0.png" alt="image.png"></p>
<h2><span id="é¢˜ç›®3">é¢˜ç›®3</span></h2><p>åœ¨kaliä¸Šç¼–å†™ufwé˜²ç«å¢™è§„åˆ™ï¼Œç¦æ­¢kaliè¿æ¥ä»»ä½•æœºå™¨çš„smbæœåŠ¡</p>
<h3><span id="step1å¼€å¯smbæœåŠ¡å¹¶æµ‹è¯•">step1:å¼€å¯smbæœåŠ¡å¹¶æµ‹è¯•</span></h3><p><img src="/../assets/image_1732255758185_0.png" alt="image.png"></p>
<p>è¿æ¥æµ‹è¯•</p>
<p><img src="/../assets/image_1732255898430_0.png" alt="image.png"></p>
<h3><span id="step2ufwè§„åˆ™ç¼–å†™">step2ï¼šufwè§„åˆ™ç¼–å†™</span></h3><p>ç°æœ‰è§„åˆ™æŸ¥çœ‹</p>
<p><img src="/../assets/image_1732255960355_0.png" alt="image.png"></p>
<p>æ–°è§„åˆ™æ·»åŠ </p>
<p><img src="/../assets/image_1732256290665_0.png" alt="image.png"></p>
<p><code>sudo ufw deny out 139/tcp</code>ï¼Œ445å’Œ139éƒ½è¦ç¦æ­¢</p>
<p>æŸ¥çœ‹è§„åˆ™</p>
<p><img src="/../assets/image_1732256695233_0.png" alt="image.png"></p>
<h3><span id="step3é‡å¯ufwå¹¶å°è¯•è¿æ¥å…¶ä»–ä¸»æœºçš„smb">step3ï¼šé‡å¯ufwå¹¶å°è¯•è¿æ¥å…¶ä»–ä¸»æœºçš„smb</span></h3><p>é‡å¯</p>
<p><img src="/../assets/image_1732256373774_0.png" alt="image.png"></p>
<p>å°è¯•è¿æ¥</p>
<p><img src="/../assets/kalismb_1732256611407_0.gif" alt="kalismb.gif"></p>
<h2><span id="é¢˜ç›®4">é¢˜ç›®4</span></h2><p>åŸºäºDockerfileæ„å»ºçš„é•œåƒæ­å»ºä¸€ä¸ªå®¹å™¨ï¼Œè¦æ±‚åŒæ—¶å…·æœ‰sshæœåŠ¡ä¸redisæœåŠ¡ï¼ŒåŸºç¡€é•œåƒé€‰æ‹© centos&#x2F;debian&#x2F;ubuntuå‡å¯</p>
<h3><span id="step1æ‹‰å–ubuntué•œåƒ">step1:æ‹‰å–ubuntué•œåƒ</span></h3><p><img src="/../assets/image_1732257125498_0.png" alt="image.png"></p>
<p>è¿™é‡Œæ‹‰è¿‡äº†ï¼Œå°±ä¸æ‹‰äº†</p>
<h3><span id="step2ç¼–å†™dockerfile">step2:ç¼–å†™Dockerfile</span></h3><p>å¯åŠ¨è„šæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨ SSH æœåŠ¡</span></span><br><span class="line">service ssh start</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨ Redis æœåŠ¡</span></span><br><span class="line">redis-server &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿æŒå®¹å™¨è¿è¡Œ</span></span><br><span class="line">tail -f /dev/null</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732258931385_0.png" alt="image.png"></p>
<h3><span id="step3æ„å»ºé•œåƒ">step3ï¼šæ„å»ºé•œåƒ</span></h3><p><img src="/../assets/image_1732257384246_0.png" alt="image.png"></p>
<p>æŸ¥çœ‹é•œåƒ</p>
<p><img src="/../assets/image_1732258009591_0.png" alt="image.png"></p>
<h3><span id="step4æµ‹è¯•é•œåƒ">step4ï¼šæµ‹è¯•é•œåƒ</span></h3><p>åˆ›å»ºå®¹å™¨</p>
<p><img src="/../assets/image_1732258122511_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732259498695_0.png" alt="image.png"></p>
<p>æµ‹è¯•sshè¿æ¥</p>
<p><img src="/../assets/image_1732258814860_0.png" alt="image.png"></p>
<p>æµ‹è¯•redisè¿æ¥</p>
<p><img src="/../assets/image_1732258841977_0.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/22/week2_kls_exam/" data-id="cm4ockleg001na3iw4inqamcv" data-title="week2_kls_exam" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/exam/" rel="tag">exam</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day9_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/21/day9_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-21T02:42:15.000Z" itemprop="datePublished">2024-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/21/day9_kls/">day9_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="dockerç½‘ç»œ">dockerç½‘ç»œ</span></h3><h4><span id="dockerä¸­çš„ç½‘ç»œæ¨¡å¼">dockerä¸­çš„ç½‘ç»œæ¨¡å¼</span></h4><p>bridge</p>
<p>host</p>
<p>none</p>
<h4><span id="ç›¸å…³å‘½ä»¤">ç›¸å…³å‘½ä»¤</span></h4><p>æŸ¥çœ‹:<code>docker network ls</code>,<code>docker network inspect NETWORK</code></p>
<p>åˆ›å»º:<code>docker network create -d TYPE network_name</code></p>
<p>åŠ å…¥:<code>docker network connect NETWORK CONTAINER [CONTAINERS]</code></p>
<h4><span id="ä½¿ç”¨">ä½¿ç”¨</span></h4><p>åœ¨åˆ›å»ºå®¹å™¨æ—¶ä½¿ç”¨<code>--network </code>æŒ‡å®šç½‘ç»œå³å¯<code>docker run --network NETWORK IMAGE</code></p>
<h3><span id="dockerå·">dockerå·</span></h3><h4><span id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</span></h4><p>æŸ¥çœ‹<code>docker volume ls</code></p>
<p>åˆ›å»º<code>docker volume create volume_name</code></p>
<p>åˆ é™¤<code>docker volume rm VOLUME</code></p>
<h4><span id="ä½¿ç”¨">ä½¿ç”¨</span></h4><p>åœ¨åˆ›å»ºå®¹å™¨æ—¶ä½¿ç”¨<code>-v</code>æŒ‡å®šå³å¯<code>docker run -v VOLUME:xxx IMAGE</code></p>
<h3><span id="dockeråˆ›å»ºè‡ªå·±çš„é•œåƒdockerfile">dockeråˆ›å»ºè‡ªå·±çš„é•œåƒ(dockerfile)</span></h3><h4><span id="ä¸ä½¿ç”¨dockerfiledocker-commit-ä¸æ¨è">ä¸ä½¿ç”¨dockerfile(docker commit ä¸æ¨è)</span></h4><p>ä¸ä½¿ç”¨dockerfileï¼ŒåŸºäºCONIANERçš„ä¿®æ”¹ç”Ÿæˆæ–°çš„é•œåƒ</p>
<p>ä½¿ç”¨<code>docker commit CONTAINER IMAGE</code></p>
<p>ä¸æ¨èä½¿ç”¨:</p>
<p>éš¾ä»¥ç»´æŠ¤</p>
<p>ä¸é€æ˜ï¼Œæ— æ³•å¾—çŸ¥ä¿®æ”¹äº†ä»€ä¹ˆ</p>
<h4><span id="ä½¿ç”¨dockerfile">ä½¿ç”¨dockerfile</span></h4><h5><span id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</span></h5><p><code>FROM</code>ï¼šæŒ‡å®šåŸºç¡€é•œåƒã€‚</p>
<p><code>RUN</code>ï¼šè¿è¡Œå‘½ä»¤ã€‚</p>
<p><code>CMD</code> å’Œ <code>ENTRYPOINT</code>ï¼šæŒ‡å®šå®¹å™¨å¯åŠ¨å‘½ä»¤ã€‚</p>
<p><code>COPY</code> å’Œ <code>ADD</code>ï¼šå¤åˆ¶æ–‡ä»¶åˆ°é•œåƒä¸­ã€‚</p>
<p><code>WORKDIR</code>ï¼šè®¾ç½®å·¥ä½œç›®å½•ã€‚</p>
<p><code>ENV</code>ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p>
<p><code>EXPOSE</code>ï¼šå£°æ˜ç«¯å£ã€‚</p>
<p><code>VOLUME</code>ï¼šå®šä¹‰æŒ‚è½½ç‚¹ã€‚</p>
<p><code>LABEL</code>ï¼šæ·»åŠ å…ƒæ•°æ®ã€‚</p>
<h5><span id="ç”Ÿæˆé•œåƒ">ç”Ÿæˆé•œåƒ</span></h5><p><code>docker build -t IMAGE docker_file_dirname</code></p>
<h3><span id="docker-compose">docker-compose</span></h3><h4><span id="æ¦‚å¿µ">æ¦‚å¿µ</span></h4><p><code>docker-compose.yml</code>æ˜¯docker-composeå¯åŠ¨æ‰€éœ€çš„é…ç½®æ–‡ä»¶ã€‚é»˜è®¤æ˜¯è¿™ä¸ªï¼Œå¦‚æœä½ è¦ä½¿ç”¨å…¶ä»–çš„è¯·åœ¨è¿è¡Œæ—¶æŒ‡å®š<code>docker-compose up -f /path/to/your_yml</code></p>
<h4><span id="å‘½ä»¤">å‘½ä»¤</span></h4><p>åˆ›å»º<code>docker-compose up [options]</code>ï¼Œå¸¸ç”¨çš„å‚æ•°<code>-d</code>åå°è¿è¡Œ</p>
<p>å¯åœ<code>docker-compose start/stop</code></p>
<p>åˆ é™¤<code>docker-compose down</code></p>
<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="dvwaç«™åº“åˆ†ç¦»php-apachemysql">dvwaç«™åº“åˆ†ç¦»(php-apache+mysql)</span></h3><p>åˆ›å»ºdockerç½‘ç»œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create -d bridge my_self_bridge</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732153437645_0.png" alt="image.png"></p>
<p>php-apacheç¯å¢ƒæ­å»º</p>
<p><img src="/../assets/image_1732153569619_0.png" alt="image.png"></p>
<blockquote>
<p>å› æ‹“å±•æ— æ³•å®‰è£…ï¼Œåé¢è¿™ä¸ªæˆ‘æ¢æˆäº†<code>php:8.0-apache</code>ï¼Œåé¢å‘ç°ä¸æ˜¯phpç‰ˆæœ¬çš„é—®é¢˜ã€‚dvwaå®˜æ–¹æ¨è7.3åŠä»¥ä¸Š</p>
</blockquote>
<p>åˆ›å»ºmysqlæ•°æ®åº“</p>
<p><img src="/../assets/image_1732153724752_0.png" alt="image.png"></p>
<blockquote>
<p>è¿™é‡Œæ— éœ€è¿›è¡Œæ˜ å°„ç«¯å£ï¼Œä½¿ç”¨ä¸»æœºå(å®¹å™¨å)è¿æ¥å³å¯</p>
</blockquote>
<p>åˆ›å»ºç»“æŸåï¼Œæˆ‘ä»¬æŸ¥çœ‹è¯¥ç½‘ç»œçš„ä¿¡æ¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network inspect my_self_bridge</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732153969902_0.png" alt="image.png"></p>
<blockquote>
<p>æˆ‘ä»¬å‘ç°è¿™ä¸¤ä¸ªcontainerå·²ç»åŠ å…¥åˆ°ç½‘ç»œä¸­äº†</p>
</blockquote>
<p>æŠŠdvwaæºç æ‰”åˆ°phpçš„appç›®å½•</p>
<p><img src="/../assets/image_1732154086639_0.png" alt="image.png"></p>
<p>å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶ä¿®æ”¹</p>
<p><img src="/../assets/image_1732154359160_0.png" alt="image.png"></p>
<blockquote>
<p>è¿™é‡Œçš„db_serveræˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºdvwa-mysql(å®¹å™¨å)</p>
</blockquote>
<p>ä¿®æ”¹å®Œæˆåè®¿é—®<code>setup.php</code></p>
<p><img src="/../assets/image_1732155125186_0.png" alt="image.png"></p>
<p>å‘ç°æ²¡æœ‰mysqliæ‹“å±•</p>
<p>phpé•œåƒå®˜æ–¹æä¾›äº†ä¸€ä¸ªå·¥å…·<code>docker-php-ext-install</code>ç”¨äºå®‰è£…æ‹“å±•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it my-apache-php-app /bin/bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸ºdgçš„å®‰è£…æå‰å®‰è£…ç›¸å…³ä¾èµ–</span></span><br><span class="line">apt-get update &amp;&amp; apt-get install -y \</span><br><span class="line">    libjpeg-dev \</span><br><span class="line">    libpng-dev \</span><br><span class="line">    libfreetype6-dev \</span><br><span class="line">    zlib1g-dev</span><br><span class="line">docker-php-ext-install mysqli dg pdo_mysql</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬é€€å‡ºå®¹å™¨ï¼Œé‡æ–°å¯åŠ¨å®¹å™¨</p>
<p><img src="/../assets/image_1732156852055_0.png" alt="image.png"></p>
<h3><span id="åˆ›å»ºç¬¬ä¸€ä¸ªè‡ªå·±çš„é•œåƒdocker-commit">åˆ›å»ºç¬¬ä¸€ä¸ªè‡ªå·±çš„é•œåƒ(docker commit)</span></h3><p>æ‹‰å–ubuntué•œåƒ</p>
<p><img src="/../assets/image_1732167921582_0.png" alt="image.png"></p>
<p>åˆ›å»ºä¸€ä¸ªubuntuå®¹å™¨ï¼Œå¹¶åœ¨åå°è¿è¡Œ</p>
<p><img src="/../assets/image_1732168395251_0.png" alt="image.png"></p>
<p>å°†<code>kitten</code>å¯æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ </p>
<p><img src="/../assets/image_1732168260215_0.png" alt="image.png"></p>
<p>å°†é•œåƒæäº¤</p>
<p><img src="/../assets/image_1732168929925_0.png" alt="image.png"></p>
<p>æ ¹æ®åˆšåˆ›å»ºçš„é•œåƒå¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒæŸ¥çœ‹<code>/bin</code>ä¸‹æ˜¯å¦æœ‰kitten</p>
<p><img src="/../assets/image_1732168813773_0.png" alt="image.png"></p>
<h2><span id><img src="/../assets/image_1732168742837_0.png" alt="image.png"></span></h2><h3><span id="æ„å»ºpythonç¨‹åºé•œåƒdocker-build">æ„å»ºpythonç¨‹åºé•œåƒ(docker build)</span></h3><p>dockerbuildæ–‡ä»¶ç¼–å†™</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.8</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> /opt/app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /opt/app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install --upgrade pip \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; pip install -r requirements.txt</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python&quot;</span>, <span class="string">&quot;/opt/app/main.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…³äºå‚æ•°ä¼ é€’ï¼Œå¯ä»¥ä½¿ç”¨ï¼Œrunçš„å‚æ•°ä¼ é€’ï¼Œç¯å¢ƒå˜é‡ï¼Œé…ç½®æ–‡ä»¶ç­‰</p>
</blockquote>
<p><img src="/../assets/image_1732179427146_0.png" alt="image.png"></p>
<p>åˆ›å»ºé•œåƒ<code>docker build -t IMAGE:TAG .</code></p>
<p>è¿è¡Œ<code>docker run IMAGE args</code></p>
<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><p>DONE dockerfileç¼–å†™</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/21/day9_kls/" data-id="cm4ocklec001da3iwazi7bzu9" data-title="day9_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day8_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/20/day8_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-20T12:35:43.000Z" itemprop="datePublished">2024-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/20/day8_kls/">day8_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="docker">docker</span></h3><h4><span id="å®‰è£…docker-ce">å®‰è£…docker-ce</span></h4><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/10/centos%E5%AE%89%E8%A3%85docker%E4%BB%A5%E5%8F%8Adocker-compose/">centoså®‰è£…dockerä»¥åŠdocker-compose | ziWindluçš„åšå®¢</a></p>
<p>ä½¿ç”¨aptåŒ…ç®¡ç†å™¨çš„å‘è¡Œç‰ˆ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ å…¬é’¥</span></span><br><span class="line">install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">sudo chmod a+r /etc/apt/keyrings/docker.gpg</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‚åŠ ä»“åº“</span></span><br><span class="line">echo \</span><br><span class="line">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian \</span><br><span class="line">  &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | \</span><br><span class="line">  tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç‰¹æ®Šçš„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„kalilinux,é‚£ä¹ˆåœ¨æ·»åŠ ä»“åº“è¿™ä¸€æ­¥éœ€è¦å°†<code>&quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot;</code>æ›¿æ¢ä¸º<code>buster</code></p>
</blockquote>
<h4><span id="æ™®é€šæƒé™ç”¨æˆ·ä¾¿æ·åœ°æ‰§è¡Œdocker">æ™®é€šæƒé™ç”¨æˆ·ä¾¿æ·åœ°æ‰§è¡Œdocker</span></h4><p>æ–¹æ¡ˆ1ä½¿ç”¨sudoæ— éœ€è¾“å…¥å¯†ç </p>
<p>ç¼–è¾‘ä½ çš„<code>sudoers</code></p>
<p><code>user_name ALL=(root:root) NOPASSWD: /bin/docker</code></p>
<p>è¿™æ ·ä½ å°±å¯ä»¥æ„‰å¿«çš„<code>sudo docker</code>å•¦</p>
<p>æ–¹æ¡ˆ2åŠ å…¥dockerç”¨æˆ·ç»„(å¥½ç”¨ï¼Œæ¨è)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">usermod -aG docker $USER</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢åˆ°dockerç”¨æˆ·ç»„ï¼Œä¸æƒ³æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„è¯ï¼Œä½ å¯ä»¥é‡æ–°ç™»é™†ä¸€ä¸‹</span></span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä½ å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨<code>docker</code>å•¦ï¼Œä¸ç”¨ä½¿ç”¨<code>sudo</code>å“¦</p>
<h4><span id="dockeræ·»åŠ ä»£ç†">dockeræ·»åŠ ä»£ç†</span></h4><p>ç¼–è¾‘<code>/etc/docker/daemon.json</code>é…ç½®dockerçš„ä»£ç†</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;proxies&quot;: &#123;</span><br><span class="line">		&quot;http-proxy&quot;: &quot;your_proxy&quot;,</span><br><span class="line">		&quot;https-proxy&quot;: &quot;your_proxy&quot;,</span><br><span class="line">		&quot;no-proxy&quot;: &quot;your_no_proxy_doman,other_doman&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡å¯docker</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

<h4><span id="ä½¿ç”¨">ä½¿ç”¨</span></h4><h5><span id="æ¦‚å¿µ">æ¦‚å¿µ</span></h5><p>å®¹å™¨(CONTAINER)ã€é•œåƒ(IMAGE)</p>
<h5><span id="é•œåƒç›¸å…³æ“ä½œ">é•œåƒç›¸å…³æ“ä½œ</span></h5><p>æœç´¢é•œåƒ<code>docker search IMAGE</code></p>
<p>æ‹‰å–é•œåƒ<code>docker pull IMAGE</code></p>
<h5><span id="åˆ›å»º">åˆ›å»º</span></h5><p><code>docker run [options] IMAGE [command [args]]</code></p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-d</code></td>
<td>ä»¥å®ˆæŠ¤ç¨‹åºè¿è¡Œ(åå°è¿è¡Œ)</td>
<td></td>
</tr>
<tr>
<td><code>-v</code></td>
<td>åˆ›å»ºæŒ‚è½½ç»‘å®š</td>
<td><code>docker run -v /host/path:/container/path IMAGE</code></td>
</tr>
<tr>
<td><code>-p</code></td>
<td>ç«¯å£æ˜ å°„</td>
<td><code>docker run -p host_port:container_port IMAGE</code></td>
</tr>
<tr>
<td><code>--name</code></td>
<td>æŒ‡å®šå®¹å™¨å</td>
<td><code>docker -run --name container_name IMAGE</code></td>
</tr>
<tr>
<td><code>--restart</code></td>
<td>é‡å¯ç­–ç•¥</td>
<td>å¸¸ç”¨çš„<code>always</code>,<code>no</code></td>
</tr>
<tr>
<td><code>-e</code></td>
<td>è®¾ç½®ç¯å¢ƒå˜é‡</td>
<td><code>docker run -e ENV_KEY=&quot;env_value&quot; IMAGE</code></td>
</tr>
<tr>
<td><code>--rm</code></td>
<td>å®¹å™¨é€€å‡ºååˆ é™¤</td>
<td><code>docker run --rm busybox ping baidu.com </code></td>
</tr>
</tbody></table>
<h5><span id="ä¿®æ”¹">ä¿®æ”¹</span></h5><p><code>docker update [options] CONTAINER [CONTAINERS]</code></p>
<h5><span id="åˆ é™¤">åˆ é™¤</span></h5><p>åˆ é™¤å®¹å™¨<code>docker rm CONTAINER</code></p>
<p>åˆ é™¤é•œåƒ<code>docker rmi IMAGE</code></p>
<h5><span id="æ‰“åŒ…ä¸å¯¼å…¥">æ‰“åŒ…ä¸å¯¼å…¥</span></h5><p><strong>é•œåƒ</strong></p>
<p>æ‰“åŒ…:<code>docker save -o xx.tar IMAGE</code></p>
<p>å¯¼å…¥:<code>docker load -i xx.tar</code></p>
<p><strong>å®¹å™¨</strong></p>
<p>æ‰“åŒ…:<code>docker export -o xx.tar CONTAINER</code></p>
<p>å¯¼å…¥:<code>docker import xx.tar IMAGE</code></p>
<h5><span id="dockerç½‘ç»œ">dockerç½‘ç»œ</span></h5><p>TODO [[dockerç½‘ç»œ]]</p>
<h5><span id="æ—¥å¿—">æ—¥å¿—</span></h5><p><code>docker logs -f CONTAINER</code></p>
<h4><span id="dockeræ·»åŠ kittyé›†æˆ">dockeræ·»åŠ kittyé›†æˆ</span></h4><p>step1ï¼šå°†<code>kitten</code>å¯æ‰§è¡Œæ–‡ä»¶æ”¾åˆ°dockerçš„<code>/bin</code>æˆ–å…¶ä»–å¯æ‰§è¡Œç›®å½•ä¸­</p>
<p>step2ï¼šæ¥ä¸‹æ¥æ„‰å¿«çš„æ‰§è¡Œ<code>docker exec -it container_name kitten run-shell --shell=/path/to/shell</code>å•¦</p>
<h3><span id="æ•£ç¢çš„çŸ¥è¯†ç‚¹">æ•£ç¢çš„çŸ¥è¯†ç‚¹</span></h3><h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="ä½¿ç”¨dockerå¯åŠ¨ä¸€ä¸ªnginx">ä½¿ç”¨dockerå¯åŠ¨ä¸€ä¸ªnginx</span></h3><h4><span id="å¯»æ‰¾å¯ç”¨é•œåƒ">å¯»æ‰¾å¯ç”¨é•œåƒ</span></h4><p>åœ¨dockerhubä¸­æœç´¢ngnix</p>
<p><img src="/../assets/image_1732080453573_0.png" alt="image.png"></p>
<p>æˆ‘ä»¬ä½¿ç”¨å®˜æ–¹é•œåƒ</p>
<h4><span id="æ‹‰å–é•œåƒ">æ‹‰å–é•œåƒ</span></h4><p><img src="/../assets/image_1732080547597_0.png" alt="image.png"></p>
<h4><span id="åˆ›å»ºdockerå®¹å™¨">åˆ›å»ºdockerå®¹å™¨</span></h4><p>nginxæ–‡æ¡£ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„å‘½ä»¤</p>
<p><img src="/../assets/image_1732081649447_0.png" alt="image.png"></p>
<h4><span id="æµ‹è¯•">æµ‹è¯•</span></h4><p>åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>index.html</code></p>
<p><img src="/../assets/image_1732081849987_0.png" alt="image.png">{:height 132, :width 687}</p>
<p>è®¿é—®<code>localhost:8080</code></p>
<p><img src="/../assets/2024-11-20_13-51_1732081933535_0.jpg" alt="2024-11-20_13-51.jpg"><br>id:: 673d78e0-9c74-47bd-b3eb-5f9e34550dff</p>
<h3><span id="ä½¿ç”¨dockeræ­å»ºlampdvwa">ä½¿ç”¨dockeræ­å»ºlamp+dvwa</span></h3><p>æ‹‰å–lamp</p>
<p><code>docker pull mattrayner/lamp:latest-1804</code></p>
<p><img src="/../assets/image_1732103257475_0.png" alt="image.png"></p>
<p>å¯åŠ¨å®¹å™¨</p>
<p><code>docker run -p &quot;80:80&quot; -v $&#123;PWD&#125;/app:/app mattrayner/lamp:latest-1804</code></p>
<p><img src="/../assets/image_1732103526988_0.png" alt="image.png"></p>
<p>æˆ‘ä»¬å‘ç°äº†mysqlçš„å¯†ç </p>
<p><img src="/../assets/image_1732103997654_0.png" alt="image.png"></p>
<p>ä¸‹ä¸€æ­¥æˆ‘ä»¬è¦ä¿®æ”¹mysqlå¯†ç ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨phpmyadminï¼Œè´¦å·ä¸ºadmin,å¯†ç ä¸ºmysqlçš„å¯†ç </p>
<p><img src="/../assets/image_1732103618719_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104065764_0.png" alt="image.png"></p>
<p>ä¸‹è½½dvwaæºç å¹¶ä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨</p>
<p><img src="/../assets/image_1732104266691_0.png" alt="image.png"></p>
<p>è§£å‹å¹¶å¤åˆ¶ä¸€ä»½dvwaé…ç½®</p>
<p><img src="/../assets/image_1732104352245_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104386233_0.png" alt="image.png"></p>
<p>ä¿®æ”¹dvwaæ•°æ®åº“é…ç½®</p>
<p><img src="/../assets/image_1732104739475_0.png" alt="image.png"></p>
<p>åœ¨ç½‘é¡µç«¯åˆå§‹åŒ–dvwa</p>
<p><img src="/../assets/image_1732104768661_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104791127_0.png" alt="image.png"></p>
<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/20/day8_kls/" data-id="cm4ocklec001ba3iwgl44apwu" data-title="day8_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day7_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/19/day7_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-19T11:29:05.000Z" itemprop="datePublished">2024-11-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/19/day7_kls/">day7_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="é˜²ç«å¢™">é˜²ç«å¢™</span></h3><h4><span id="linuxå¸¸ç”¨çš„é˜²ç«å¢™">linuxå¸¸ç”¨çš„é˜²ç«å¢™</span></h4><p>iptables(åŸºäºnetfilter)</p>
<p>nftables(iptablesçš„åç»§ï¼Œç°ä»£åŒ–çš„é˜²ç«å¢™)</p>
<p>ufw(åŸºäºiptables)</p>
<p>firewalld</p>
<h4><span id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</span></h4><h5><span id="å››è¡¨äº”é“¾">å››è¡¨äº”é“¾</span></h5><p>å››è¡¨(table)ï¼šFilterè¡¨ã€NATè¡¨ã€Mangleè¡¨ã€Rawè¡¨</p>
<p>äº”é“¾(chain)ï¼šPREROUTINGé“¾ã€INPUTé“¾ã€FORWARDé“¾ã€OUTPUTé“¾ã€POSTROUTINGé“¾</p>
<h5><span id="è§„åˆ™ä»¥iptablesä¸ºä¾‹">è§„åˆ™(ä»¥iptablesä¸ºä¾‹)</span></h5><p>åŒ¹é…æ¡ä»¶:</p>
<p>æŒ‡å®šè§„åˆ™é€‚ç”¨çš„æ•°æ®åŒ…ç±»å‹ï¼ˆå¦‚æºåœ°å€ã€ç›®æ ‡åœ°å€ã€åè®®ç­‰ï¼‰ã€‚</p>
<p>IP åœ°å€ï¼š-s 192.168.1.1ï¼ˆæºåœ°å€ï¼‰æˆ– -d 10.0.0.1ï¼ˆç›®æ ‡åœ°å€ï¼‰ã€‚</p>
<p>åè®®ï¼š-p tcpã€‚</p>
<p>ç«¯å£ï¼šâ€“dport 22ï¼ˆç›®æ ‡ç«¯å£ï¼‰æˆ– â€“sport 80ï¼ˆæºç«¯å£ï¼‰ã€‚</p>
<p>åŠ¨ä½œï¼ˆActionï¼‰:</p>
<p>å®šä¹‰æ•°æ®åŒ…è¢«åŒ¹é…åæ‰§è¡Œçš„æ“ä½œã€‚</p>
<p>å¸¸è§åŠ¨ä½œï¼š</p>
<p>ACCEPTï¼šå…è®¸æ•°æ®åŒ…é€šè¿‡ã€‚</p>
<p>DROPï¼šç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ã€‚</p>
<p>REJECTï¼šæ‹’ç»æ•°æ®åŒ…å¹¶è¿”å›å“åº”ã€‚</p>
<p>LOGï¼šè®°å½•æ•°æ®åŒ…ä¿¡æ¯åˆ°æ—¥å¿—ä¸­ã€‚</p>
<p>ä¾¿æ·çš„è§„åˆ™ä¹¦å†™</p>
<p>å¤šä¸ªip</p>
<p>æŒ‡å®šæŸä¸ªç½‘ç»œï¼š<code>iptables -A INPUT -s 192.168.1.1,192.168.1.0/24 -j ACCEPT</code></p>
<p>æŒ‡å®šå¤šä¸ªéè¿ç»­ipï¼š<code>iptables -A INPUT -s 192.168.1.1,192.168.1.2,192.168.1.3 -j ACCEPT</code></p>
<p>æŒ‡å®šå¤šä¸ªè¿ç»­ipï¼š<code>sudo iptables -A INPUT -m iprange --src-range 192.168.1.100-192.168.1.120 -j ACCEPT</code></p>
<p>å¤šä¸ªç«¯å£</p>
<p>ä½¿ç”¨<code>,</code>æŒ‡å®šå¤šä¸ªç«¯å£ï¼š<code>-m multiport</code>,<code>iptables -A INPUT -p tcp -m multiport --dports 22,80,443 -j ACCEPT</code></p>
<p>ä½¿ç”¨<code>:</code>æŒ‡å®šå¤šä¸ªç«¯å£ï¼šï¼Œ<code>iptables -A INPUT -p tcp --dport 1000:2000 -j ACCEPT</code></p>
<h5><span id="è§„åˆ™åŒ¹é…é€»è¾‘">è§„åˆ™åŒ¹é…é€»è¾‘</span></h5><p>ä»ä¸Šåˆ°ä¸‹é€è¡ŒåŒ¹é…ï¼Œç¬¬ä¸€æ¡åŒ¹é…æˆåŠŸåç«‹å³åœæ­¢æ£€æŸ¥åç»­è§„åˆ™</p>
<p>å› æ­¤ï¼Œè§„åˆ™åŒ¹é…çš„é¡ºåºåº”ä»å…·ä½“åˆ°é€šç”¨ï¼Œç‰¹ä¾‹ä¼˜å…ˆï¼Œå…¨å±€ç­–ç•¥åç½®ã€‚</p>
<h3><span id="iptables">iptables</span></h3><h4><span id="å¯åœ">å¯åœ</span></h4><p><code>systemctl start/stop iptables</code></p>
<h4><span id="æŸ¥çœ‹è§„åˆ™">æŸ¥çœ‹è§„åˆ™</span></h4><p>æŸ¥çœ‹è§„åˆ™<code>iptables -t [table]  -L [chain] [options]</code></p>
<p>å¸¸ç”¨å‚æ•°:</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-n</code></td>
<td>numericï¼Œæ˜¾ç¤ºæ•°å­—ipå’Œç«¯å£</td>
<td></td>
</tr>
<tr>
<td><code>-v</code></td>
<td>verboseï¼Œå†—é•¿çš„ä¿¡æ¯</td>
<td></td>
</tr>
<tr>
<td><code>--line-number</code></td>
<td>åˆ—å‡ºè§„åˆ™æ—¶åœ¨æ¯ä¸€è¡Œæ·»åŠ æ•°å­—(è¿™ä¸ªæ•°å­—åœ¨åˆ é™¤æ—¶æœ‰å¸®åŠ©)</td>
<td></td>
</tr>
</tbody></table>
<h4><span id="æ·»åŠ è§„åˆ™">æ·»åŠ è§„åˆ™</span></h4><p><code>iptables -t [table] -A [chain] [match] -j [action]</code></p>
<h4><span id="åˆ é™¤è§„åˆ™">åˆ é™¤è§„åˆ™</span></h4><p><code>iptables -t [table] -D [chain]</code></p>
<blockquote>
<p>tableé»˜è®¤ä¸ºfilter</p>
</blockquote>
<h4><span id="æ°¸ä¹…ä¿å­˜é˜²ç«å¢™é…ç½®">æ°¸ä¹…ä¿å­˜é˜²ç«å¢™é…ç½®</span></h4><p>ä¿å­˜<code>iptables-save &gt; file</code></p>
<p>åŠ è½½<code>iptables-restore &lt; file</code></p>
<p>è‡ªåŠ¨å¯¼å…¥:å†™ä¸€ä¸ªå¼€æœºè‡ªå¯è„šæœ¬ï¼Œä½¿ç”¨ <code>iptables-persistent</code></p>
<h3><span id="ufw">ufw</span></h3><h4><span id="å¯åœ">å¯åœ</span></h4><p><code>systemctl start/stop/restart ufw</code></p>
<p><code>ufw enable/disable/reload</code></p>
<p>çŠ¶æ€æŸ¥çœ‹:</p>
<p><code>systemctl status ufw</code></p>
<p><code>ufw status</code></p>
<h4><span id="æŸ¥çœ‹è§„åˆ™">æŸ¥çœ‹è§„åˆ™</span></h4><p><code>ufw status [numberd] [verbose]</code></p>
<h4><span id="æ·»åŠ è§„åˆ™">æ·»åŠ è§„åˆ™</span></h4><p><code>ufw action args</code></p>
<p>action:<code>allow</code>,<code>reject</code>,<code>deny</code>,<code>limit</code></p>
<p>ç®€å•çš„argsï¼š</p>
<p>ç«¯å£å·&#x2F;åè®®<code>port[/protocol]</code></p>
<p>æœåŠ¡å<code>service</code>ï¼Œexample:<code>samba</code>,<code>ftp</code>,<code>mysql</code></p>
<blockquote>
<p>æ³¨æ„è¿™é‡Œçš„mysqlç­‰æœåŠ¡éƒ½æ˜¯é»˜è®¤çš„ç«¯å£ï¼Œå¦‚æœä½ æ”¹äº†å¯¹åº”æœåŠ¡çš„ç«¯å£ï¼Œè¿™é‡Œä¸ä¼šç”Ÿæ•ˆ</p>
</blockquote>
<p>æŒ‡å®šå‡ºå…¥æ–¹å‘</p>
<p><code>ufw allow out 22</code></p>
<blockquote>
<p>å€¼å¾—æ³¨æ„çš„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–¹å‘é‚£ä¹ˆæ–¹å‘é»˜è®¤ä¸ºin</p>
</blockquote>
<p>æŒ‡å®šå‡ºå…¥ip,åè®®ï¼Œç«¯å£</p>
<p><code>ufw deny proto tcp from 10.0.0.0/8 to 192.168.0.1 port 25</code></p>
<p>from:åŸip,to ç›®çš„ip</p>
<p>æŒ‡å®šç½‘å¡</p>
<p><code>ufw deny on interface proto tcp</code></p>
<p>ä¸€äº›æ–¹ä¾¿çš„å†™æ³•</p>
<p><code>any</code>æ‰€æœ‰çš„ip</p>
<h4><span id="åˆ é™¤è§„åˆ™">åˆ é™¤è§„åˆ™</span></h4><p><code>ufw delete add_thing</code></p>
<blockquote>
<p><code>add_thing</code>ä¸ºä½ æ·»åŠ æ—¶è¾“å…¥çš„å†…å®¹</p>
</blockquote>
<h4><span id="æ°¸ä¹…ä¿å­˜é˜²ç«å¢™é…ç½®">æ°¸ä¹…ä¿å­˜é˜²ç«å¢™é…ç½®</span></h4><p>ufwé»˜è®¤å°±æ˜¯æ°¸ä¹…ä¿å­˜ï¼Œæ— éœ€åšå…¶ä»–æ“ä½œ</p>
<h3><span id="firewalld">firewalld</span></h3><h4><span id="å¯åœ">å¯åœ</span></h4><p><code>systemctl start/stop/restart firewalld</code></p>
<h4><span id="æŸ¥çœ‹è§„åˆ™">æŸ¥çœ‹è§„åˆ™</span></h4><p><code>firewall-cmd --list-all</code></p>
<h4><span id="æ·»åŠ è§„åˆ™">æ·»åŠ è§„åˆ™</span></h4><p><code>firewall-cmd --add-xx args</code></p>
<p>example:</p>
<p>æ·»åŠ httpæœåŠ¡æ”¾è¡Œ<code>firewall-cmd --add-service http</code></p>
<p>æ·»åŠ tcp88ç«¯å£æ”¾è¡Œ<code>firewall-cmd --add-port 88/tcp</code></p>
<blockquote>
<p>å¦‚æœæƒ³è¦æ·»åŠ æ°¸ä¹…è§„åˆ™ï¼Œéœ€è¦æ·»åŠ å‚æ•°<code>--permanent</code>ï¼Œä¾‹å¦‚<code>firewall-cmd --permanent --add-service http</code>ï¼Œè®©å…¶ç”Ÿæ•ˆéœ€è¦æ‰§è¡Œ<code>firewall-cmd --reload</code></p>
</blockquote>
<h4><span id="åˆ é™¤è§„åˆ™">åˆ é™¤è§„åˆ™</span></h4><p><code>firewall-cmd --remove-xx args</code></p>
<p>example:</p>
<p>åˆ é™¤æœåŠ¡è§„åˆ™<code>firewall-cmd --remove-service service_name</code></p>
<h4><span id="å…¶ä»–çš„">å…¶ä»–çš„</span></h4><p>åº”æ€¥æ¨¡å¼<code>firewall-cmd --panic-on/off</code></p>
<h3><span id="selinux">selinux</span></h3><p>å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼Œä¸ºlinuxæä¾›äº†ç»†ç²’åº¦çš„å®‰å…¨æ§åˆ¶ã€‚</p>
<p>ä¸´æ—¶å…³é—­</p>
<p><code>setenforce 0</code></p>
<p>æ°¸ä¹…å…³é—­</p>
<p>ç¼–è¾‘<code>/etc/selinux/config</code></p>
<p>ä¿®æ”¹SELINUXä¸ºdisable<code>SELINUX=disabled</code></p>
<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="iptablesæ·»åŠ è§„åˆ™æ‹¦æˆªicmpiptables">iptablesæ·»åŠ è§„åˆ™æ‹¦æˆªicmp(iptables)</span></h3><p>è§„åˆ™æ·»åŠ å‰ï¼Œping kali</p>
<p><img src="/../assets/image_1731984214812_0.png" alt="image.png"></p>
<p>æ·»åŠ è§„åˆ™</p>
<p><img src="/../assets/iptables_1731984644135_0.gif" alt="iptables.gif"></p>
<p>è§„åˆ™æ·»åŠ åï¼Œping kali</p>
<p><img src="/../assets/image_1731984623918_0.png" alt="image.png"></p>
<h3><span id="é˜²ç«å¢™ç¦æ­¢httpså‡ºç½‘iptables">é˜²ç«å¢™ç¦æ­¢httpså‡ºç½‘(iptables)</span></h3><p>æœªé…ç½®çš„æƒ…å†µ</p>
<p><img src="/../assets/image_1731998578134_0.png" alt="image.png"></p>
<p>æ·»åŠ é˜²ç«å¢™è§„åˆ™</p>
<p><img src="/../assets/image_1731998633835_0.png" alt="image.png"></p>
<p>é…ç½®åçš„æƒ…å†µ</p>
<p><img src="/../assets/image_1731998653324_0.png" alt="image.png"></p>
<h3><span id="é˜²ç«å¢™ç¦æ­¢è®¿é—®tcp8000ç«¯å£iptables">é˜²ç«å¢™ç¦æ­¢è®¿é—®tcp8000ç«¯å£(iptables)</span></h3><p>åœ¨<code>pcx.z.home</code>å¼€å¯ä¸€ä¸ª8000ç«¯å£çš„httpæœåŠ¡</p>
<p><img src="/../assets/image_1731999065689_0.png" alt="image.png"></p>
<p>è®¿é—®æ­£å¸¸</p>
<p><img src="/../assets/image_1731999112568_0.png" alt="image.png"></p>
<p>é…ç½®é˜²ç«å¢™ç­–ç•¥</p>
<p><img src="/../assets/image_1731999515849_0.png" alt="image.png"></p>
<p>é…ç½®åçš„æƒ…å†µ</p>
<p><img src="/../assets/image_1731999553907_0.png" alt="image.png"></p>
<h3><span id="é˜²ç«å¢™é…ç½®ç¦æ­¢æŸä¸ªç½‘å¡å‘é€icmpåŒ…">é˜²ç«å¢™é…ç½®ç¦æ­¢æŸä¸ªç½‘å¡å‘é€icmpåŒ…</span></h3><p>é…ç½®é˜²ç«å¢™ç­–ç•¥<code>iptables -I OUTPUT -o interface_name -p icmp -j DROP</code></p>
<p>éªŒè¯<code>ping -I interface host</code></p>
<h3><span id="é˜²ç«å¢™é…ç½®å…è®¸è¿æ¥æœ¬åœ°sshufw">é˜²ç«å¢™é…ç½®å…è®¸è¿æ¥æœ¬åœ°ssh(ufw)</span></h3><p>é…ç½®å‰</p>
<p><img src="/../assets/image_1732003604921_0.png" alt="image.png"></p>
<blockquote>
<p>å‡è£…è¿ä¸ä¸Š</p>
</blockquote>
<p>é…ç½®é˜²ç«å¢™è§„åˆ™</p>
<p><img src="/../assets/image_1732003123810_0.png" alt="image.png"></p>
<p>è¿æ¥æˆåŠŸ</p>
<p><img src="/../assets/image_1732003492874_0.png" alt="image.png"></p>
<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><p>DONE kitty+zshè¡¥å…¨æ˜¾ç¤ºå¼‚å¸¸é—®é¢˜è§£å†³</p>
<blockquote>
<p>kaliçš„zshé…ç½®çš„é—®é¢˜ï¼Œæˆ‘ä»¬è‡ªå·±é…ç½®å°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜äº†</p>
</blockquote>
<h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><p>man ufw</p>
<p>man iptables</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/SELinux">SELinux ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/19/day7_kls/" data-id="cm4ockleb0018a3iwhgp8f2la" data-title="day7_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/firewalld/" rel="tag">firewalld</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/selinux/" rel="tag">selinux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ufw/" rel="tag">ufw</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day6_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/18/day6_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-18T10:46:30.000Z" itemprop="datePublished">2024-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/18/day6_kls/">day6_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</span></h2><h3><span id="sshæœåŠ¡">sshæœåŠ¡</span></h3><p>æœåŠ¡<code>sshd</code>ï¼Œç«¯å£<code>22</code>ï¼Œé…ç½®æ–‡ä»¶:<code>/etc/ssh/sshd_config</code>ï¼Œé‡è¦çš„ç›¸å…³æ–‡ä»¶<code>~/.ssh/authorized_keys</code></p>
<h2><span id="cron">cron</span></h2><p>æœåŠ¡<code>cronie</code>ç­‰ï¼Œé‡è¦çš„ç›¸å…³æ–‡ä»¶<code>/etc/crontab</code>,<code>/var/spool/cron/username</code></p>
<h3><span id="smb">SMB</span></h3><h4><span id="æœåŠ¡ç«¯">æœåŠ¡ç«¯</span></h4><p>å®‰è£…:<code>yum install samba</code></p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/11/archlinux%E4%B8%8Bsamba%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/">archlinuxä¸‹sambaæœåŠ¡æ­å»º | ziWindluçš„åšå®¢</a></p>
<p>ç«¯å£<code>445,139</code></p>
<p>é…ç½®æ–‡ä»¶:<code>/etc/samba/smb.conf</code></p>
<p>smbç”¨æˆ·ç®¡ç†:<code>pdbedit</code></p>
<h4><span id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</span></h4><p>smbclientè¿æ¥smb<code>smbclient --user username //host/share_name</code></p>
<p>æŒ‚è½½<code>mount -t cifs -o username=user_name,password=passwd //host/share_name /local_mount_point</code></p>
<blockquote>
<p>å¯¹äºlinuxæŒ‚è½½éœ€è¦å®‰è£…<code>cifs-utils</code></p>
</blockquote>
<p>win(net use)å‘½ä»¤è¡ŒæŒ‚è½½<code>net use \\host\share_name password /user:user_name</code></p>
<h4><span id="å®‰å…¨">å®‰å…¨</span></h4><p><strong>windowsçš„å®‰å…¨ç­–ç•¥</strong></p>
<p>é˜²ç«å¢™é»˜è®¤ç»„ç»‡smbè¿æ¥</p>
<p>æ€æ¯’è½¯ä»¶é»˜è®¤é˜»æ­¢smbè¿æ¥</p>
<p><strong>å†å²æ¼æ´</strong></p>
<p>ms17010(æ°¸æ’ä¹‹è“)</p>
<p>CVE-2017-7494</p>
<h3><span id="ftp">ftp</span></h3><h4><span id="æœåŠ¡ç«¯">æœåŠ¡ç«¯</span></h4><p>å®‰è£…:<code>yum install vsftpd</code></p>
<p>ç«¯å£:</p>
<p>é…ç½®æ–‡ä»¶:<code>/etc/vsftpd/vsftpd.conf</code></p>
<p><strong>å¸¸è§é…ç½®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># åŒ¿åç”¨æˆ·å…³é—­</span><br><span class="line">anonymous_enable=NO</span><br><span class="line"># åŒ¿åç”¨æˆ·çš„ftpæ ¹ç›®å½•(åŒ¿åç”¨æˆ·å¼€å¯æ‰æœ‰æ•ˆ)</span><br><span class="line">anon_root=/opt/ftp</span><br><span class="line"># å…è®¸æœ¬åœ°ç”¨æˆ·ç™»é™†</span><br><span class="line">local_enable=YES</span><br><span class="line"># å…è®¸å†™å…¥</span><br><span class="line">write_enable=YES</span><br><span class="line"># å¯ç”¨ç”¨æˆ·åˆ—è¡¨åŠŸèƒ½</span><br><span class="line">userlist_enable=YES</span><br><span class="line"># ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶</span><br><span class="line">userlist_file=/etc/vsftpd/vsftpd.userlist</span><br><span class="line"># ç”¨æˆ·åˆ—è¡¨ç­–ç•¥</span><br><span class="line">userlist_deny=NO</span><br><span class="line"># ç¦æ­¢åˆ‡æ¢rootç›®å½•</span><br><span class="line">chroot_local_user=YES</span><br><span class="line">allow_writeable_chroot=NO</span><br></pre></td></tr></table></figure>

<p><strong>å¤šç”¨æˆ·åˆ—è¡¨é…ç½®</strong></p>
<p>ä½¿ç”¨<code>pam</code></p>
<p><code>auth required pam_listfile.so item=user sense=allow file=/etc/vsftpd/allow_list2 onerr=fail</code></p>
<h4><span id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</span></h4><p>ftpå®¢æˆ·ç«¯<code>ftp host</code></p>
<p>æŒ‚è½½<code>mount -t fuse.curlftpfs ftp://user_name:password@host /mnt_point</code><br>id:: 673af920-f628-4041-8bdb-9821d32774c0</p>
<blockquote>
<p>å¯¹äºlinuxæŒ‚è½½éœ€è¦å®‰è£…<code>curlftpfs</code></p>
</blockquote>
<h4><span id="å®‰å…¨">å®‰å…¨</span></h4><p>linuxé»˜è®¤ä¼šæœ‰å¯¹vsftpçš„å®‰å…¨é…ç½®ï¼Œæ¯”å¦‚ç¦æ­¢rootç”¨æˆ·ç™»é™†</p>
<h3><span id="æ•£ç¢çš„çŸ¥è¯†ç‚¹">æ•£ç¢çš„çŸ¥è¯†ç‚¹</span></h3><h4><span id="pipä¸´æ—¶ä½¿ç”¨æŸé•œåƒæº">pipä¸´æ—¶ä½¿ç”¨æŸé•œåƒæº</span></h4><p>æ¸…åæº</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple some-package</span><br></pre></td></tr></table></figure>

<h4><span id="pyftpdlibä½¿ç”¨">pyftpdlibä½¿ç”¨</span></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pyftpdlib -u user_name -P password -p port --write</span><br></pre></td></tr></table></figure>

<h2><span id="å®ä¾‹ampampä½œä¸š">å®ä¾‹&amp;&amp;ä½œä¸š</span></h2><h3><span id="windowsè¿æ¥smbå›¾å½¢åŒ–">windowsè¿æ¥smb(å›¾å½¢åŒ–)</span></h3><p><img src="/../assets/Peek_2024-11-18_11-25_1731900373481_0.gif" alt="Peek 2024-11-18 11-25.gif"></p>
<h3><span id="windowsè¿æ¥smbnet-use">windowsè¿æ¥smb(net use)</span></h3><p><img src="/../assets/Peek_2024-11-18_14-10_1731910306453_0.gif" alt="Peek 2024-11-18 14-10.gif"></p>
<h3><span id="å…è®¸rootç”¨æˆ·ç™»é™†ftpé…ç½®ç™»é™†æ¼”ç¤º">å…è®¸rootç”¨æˆ·ç™»é™†ftp(é…ç½®+ç™»é™†æ¼”ç¤º)</span></h3><h4><span id="é…ç½®æ–‡ä»¶ä¿®æ”¹">é…ç½®æ–‡ä»¶ä¿®æ”¹</span></h4><p><code>/etc/vsftpd/vsftpd.conf</code>ä¸»é…ç½®æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=NO</span><br><span class="line">userlist_enable=YES</span><br><span class="line">userlist_file=/etc/vsftpd/vsftpd.userlist</span><br><span class="line"># é…ç½®ç­–ç•¥ä¸ºå…è®¸åˆ—è¡¨å†…ç™»é™†</span><br><span class="line">userlist_deny=NO</span><br><span class="line">local_enable=YES</span><br><span class="line">write_enable=YES</span><br></pre></td></tr></table></figure>

<p><code>/etc/vsftpd/vsftpd.userlist</code>é…ç½®æ–‡ä»¶ç¼–å†™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root</span><br><span class="line">other_user</span><br></pre></td></tr></table></figure>

<h4><span id="å…è®¸rootç™»é™†">å…è®¸rootç™»é™†</span></h4><p>åœ¨vsftpdå®‰è£…åï¼Œlinuxä¼šåœ¨<code>/etc/pam.d/vsftpd</code>æ·»åŠ ç›¸å…³å®‰å…¨ç­–ç•¥</p>
<p><img src="/../assets/image_1731916314993_0.png" alt="image.png"></p>
<p>ä¿®æ”¹<code>/etc/vsftpd/ftpusers</code>å°†é‡Œé¢çš„rootåˆ é™¤ï¼Œæˆ–è€…æŠŠè¿™æ¡ç­–ç•¥åˆ é™¤</p>
<p>ç°åœ¨ä½ å°±å¯ä»¥æ„‰å¿«çš„è¿æ¥äº†</p>
<h4><span id="è¿æ¥ftp">è¿æ¥ftp</span></h4><p><img src="/../assets/ftp_1731917042437_0.gif" alt="ftp.gif"></p>
<h3><span id="ä½¿ç”¨pyftpdlibå¼€å¯ftp">ä½¿ç”¨pyftpdlibå¼€å¯ftp</span></h3><p>æœåŠ¡ç«¯</p>
<p><img src="/../assets/ftp-s_1731925849706_0.gif" alt="ftp-s.gif"></p>
<p>å®¢æˆ·ç«¯</p>
<p><img src="/../assets/ftp-c_1731925795294_0.gif" alt="ftp-c.gif"></p>
<h2><span id="æ€è€ƒampamptodo">æ€è€ƒ&amp;&amp;todo</span></h2><h2><span id="å‚è€ƒ">å‚è€ƒ</span></h2><p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/"> pypi | é•œåƒç«™ä½¿ç”¨å¸®åŠ© | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/18/day6_kls/" data-id="cm4ocklea0016a3iwgss703iw" data-title="day6_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ftp/" rel="tag">ftp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" rel="tag">linuxå¸¸è§æœåŠ¡</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smb/" rel="tag">smb</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/exam/">exam</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/range/">range</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/xam/">xam</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/burpsuite/" rel="tag">burpsuite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cdn/" rel="tag">cdn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cookie/" rel="tag">cookie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cors/" rel="tag">cors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csrf/" rel="tag">csrf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dvwa/" rel="tag">dvwa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exam/" rel="tag">exam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firewalld/" rel="tag">firewalld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ftp/" rel="tag">ftp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/get/" rel="tag">get</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ip%E6%8E%A2%E6%B4%BB/" rel="tag">ipæ¢æ´»</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" rel="tag">linuxå¸¸è§æœåŠ¡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rce/" rel="tag">rce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/review/" rel="tag">review</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/selinux/" rel="tag">selinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session/" rel="tag">session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/smb/" rel="tag">smb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlmap/" rel="tag">sqlmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql%E6%B3%A8%E5%85%A5/" rel="tag">sqlæ³¨å…¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-copy-id/" rel="tag">ssh-copy-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssrf/" rel="tag">ssrf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sysinfo/" rel="tag">sysinfo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ufw/" rel="tag">ufw</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virt-manager/" rel="tag">virt-manager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webshell/" rel="tag">webshell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xss/" rel="tag">xss</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xxe/" rel="tag">xxe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" rel="tag">ä¿¡æ¯æ”¶é›†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%BC%B9shell/" rel="tag">åå¼¹shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">å‘½ä»¤æ‰§è¡Œ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB/" rel="tag">æŒ‡çº¹è¯†åˆ«</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" rel="tag">æ–‡ä»¶ä¸Šä¼ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">æ–‡ä»¶åŒ…å«</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" rel="tag">æš´åŠ›ç ´è§£</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%99%E7%82%B9%E6%9E%B6%E6%9E%84/" rel="tag">ç«™ç‚¹æ¶æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/" rel="tag">ç«¯å£æ‰«æ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">è™šæ‹ŸåŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">è®¡ç®—æœºç½‘ç»œ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%B6%E5%9C%BA/" rel="tag">é¶åœº</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog/" style="font-size: 12.5px;">blog</a> <a href="/tags/burpsuite/" style="font-size: 12.5px;">burpsuite</a> <a href="/tags/cdn/" style="font-size: 10px;">cdn</a> <a href="/tags/cookie/" style="font-size: 10px;">cookie</a> <a href="/tags/cors/" style="font-size: 10px;">cors</a> <a href="/tags/csrf/" style="font-size: 10px;">csrf</a> <a href="/tags/docker/" style="font-size: 12.5px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 12.5px;">docker-compose</a> <a href="/tags/dvwa/" style="font-size: 10px;">dvwa</a> <a href="/tags/exam/" style="font-size: 17.5px;">exam</a> <a href="/tags/firewalld/" style="font-size: 10px;">firewalld</a> <a href="/tags/ftp/" style="font-size: 10px;">ftp</a> <a href="/tags/get/" style="font-size: 10px;">get</a> <a href="/tags/http/" style="font-size: 12.5px;">http</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/ip%E6%8E%A2%E6%B4%BB/" style="font-size: 10px;">ipæ¢æ´»</a> <a href="/tags/kls/" style="font-size: 20px;">kls</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">linuxå¸¸è§æœåŠ¡</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/rce/" style="font-size: 10px;">rce</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/review/" style="font-size: 12.5px;">review</a> <a href="/tags/selinux/" style="font-size: 10px;">selinux</a> <a href="/tags/session/" style="font-size: 10px;">session</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/smb/" style="font-size: 10px;">smb</a> <a href="/tags/sqlmap/" style="font-size: 10px;">sqlmap</a> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" style="font-size: 17.5px;">sqlæ³¨å…¥</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ssh-copy-id/" style="font-size: 10px;">ssh-copy-id</a> <a href="/tags/ssrf/" style="font-size: 12.5px;">ssrf</a> <a href="/tags/sysinfo/" style="font-size: 10px;">sysinfo</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/ufw/" style="font-size: 10px;">ufw</a> <a href="/tags/virt-manager/" style="font-size: 10px;">virt-manager</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/webshell/" style="font-size: 10px;">webshell</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/xss/" style="font-size: 12.5px;">xss</a> <a href="/tags/xxe/" style="font-size: 10px;">xxe</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" style="font-size: 15px;">ä¿¡æ¯æ”¶é›†</a> <a href="/tags/%E5%8F%8D%E5%BC%B9shell/" style="font-size: 10px;">åå¼¹shell</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" style="font-size: 10px;">å‘½ä»¤æ‰§è¡Œ</a> <a href="/tags/%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB/" style="font-size: 10px;">æŒ‡çº¹è¯†åˆ«</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" style="font-size: 12.5px;">æ–‡ä»¶ä¸Šä¼ </a> <a href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" style="font-size: 10px;">æ–‡ä»¶åŒ…å«</a> <a href="/tags/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">æš´åŠ›ç ´è§£</a> <a href="/tags/%E7%AB%99%E7%82%B9%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">ç«™ç‚¹æ¶æ„</a> <a href="/tags/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/" style="font-size: 10px;">ç«¯å£æ‰«æ</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">è™šæ‹ŸåŒ–</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">è®¡ç®—æœºç½‘ç»œ</a> <a href="/tags/%E9%9D%B6%E5%9C%BA/" style="font-size: 10px;">é¶åœº</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/01/10/week9_kls_exam/">week9_kls_exam</a>
          </li>
        
          <li>
            <a href="/2025/01/03/week8_kls_exam/">week8_kls_exam</a>
          </li>
        
          <li>
            <a href="/2024/12/30/ssrf-vuls/">ssrf-vuls</a>
          </li>
        
          <li>
            <a href="/2024/12/27/week7_kls_exam/">week7_kls_exam</a>
          </li>
        
          <li>
            <a href="/2024/12/26/day34_kls/">day34_kls</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>