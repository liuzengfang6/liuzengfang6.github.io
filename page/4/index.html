<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-day11_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/25/day11_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-25T14:12:52.000Z" itemprop="datePublished">2024-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/25/day11_kls/">day11_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="thinkphpx2f5-rce">thinkphp&#x2F;5-rce</span></h3><p>开启容器后访问<code>http://localhost:8099/index.php?s=/Index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=shell_exec&amp;vars[1][]=ls%20-la</code></p>
<p><img src="/../assets/image_1732504864187_0.png" alt="image.png"></p>
<h3><span id="命令拼接">命令拼接</span></h3><p>这里的命令拼接意味一次执行多个命令</p>
<p><code>;</code>执行前面的命令后，接着执行后面的</p>
<p><code>&amp;</code>实际上其是让命令后台运行</p>
<p><code>&amp;&amp;</code>,<code>||</code>实际上这两位是逻辑操作符，尽量避免使用</p>
<p><code>|</code>实际上其是管道符，用户将上一个命令的输出作为下一个命令的输入</p>
<p>妙用echo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;`ls` `echo 123`&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="shell脚本">shell脚本</span></h3><h4><span id="环境变量">环境变量</span></h4><p><code>PATH</code>可执行程序的路径</p>
<p><code>PWD</code>当前所在的目录</p>
<p><code>SHELL</code>当前使用的shell</p>
<h4><span id="39和quot的区别"><code>&#39;</code>和<code>&quot;</code>的区别</span></h4><p><code>&#39;</code>字符原始数据，<code>&quot;</code>可以解析其中的变量值</p>
<h4><span id="变量定义以及使用">变量定义以及使用</span></h4><p>限定符<code>local</code>当前作用域,<code>export</code>作为环境变量</p>
<p><code>name=value</code>定义</p>
<p><code>$name</code></p>
<h4><span id="参数">参数</span></h4><p>传参<code>fun1 var1 var2</code></p>
<p>处理参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun()&#123;</span><br><span class="line">	echo $1 $2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>特殊的</p>
<p><code>$0</code>为该脚本本身的名字</p>
<p><code>$#</code>：表示传入参数的个数。</p>
<p><code>$@</code>：表示所有传入的参数（以独立形式显示，每个参数都保留为单独的字符串）<br><code>$*</code>：表示所有传入的参数（以一个字符串形式显示，所有参数被合并）</p>
<h4><span id="运算">运算</span></h4><p>算术：</p>
<p><code>expr</code>(不推荐)</p>
<p><code>echo &#39;1+1&#39; | bc</code></p>
<p>(推荐)</p>
<p><code>$(( a + b ))</code></p>
<p><code>let x=a+b</code></p>
<p>字符串：</p>
<p><code>$&#123;#var1&#125;</code>字符串长度</p>
<p><code>$&#123;str:start:end&#125;</code>截取字符串</p>
<p><code>$&#123;str/old/new&#125;</code>替换字符</p>
<h4><span id="流程ifcase">流程if,case</span></h4><p>语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ condition ]; then</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">elif [ another_condition ]; then</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">else</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h4><span id="循环forwhile">循环for,while</span></h4><p>for语法:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for i in $@ ; do</span><br><span class="line">    if [[ condition ]]; then</span><br><span class="line">        continue</span><br><span class="line">    fi</span><br><span class="line">    if [[ condition ]]; then</span><br><span class="line">        break</span><br><span class="line">    fi</span><br><span class="line">    # cmmmands</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>while语法:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while [ condition ]; do</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">commands</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h4><span id="condition相关">condition相关</span></h4><p>| 特性 | <code>[ ]</code> | <code>[[ ]]</code> | 无括号 |<br>| —- | —- | —- |<br>| <strong>本质</strong> | <code>test</code> 命令 | Bash 内置功能 | 直接执行命令 |<br>| <strong>支持正则表达式</strong> | 不支持 | 支持 | 取决于命令 |<br>| <strong>支持逻辑运算符</strong> | 需要使用 <code>-a</code> 和 <code>-o</code> | 使用 <code>&amp;&amp;</code> 和 &#96; |  |<br>| <strong>变量双引号要求</strong> | 必须加 | 可省略 | 通常不需要 |<br>| <strong>安全性</strong> | 较低（易受空值或特殊字符影响） | 高 | 高 |</p>
<h3><span id="散碎的知识点">散碎的知识点</span></h3><h4><span id="poc">poc</span></h4><p><code>Proof of Concept</code>,漏洞概念验证代码或脚本，用于证明某个漏洞的存在、触发条件以及可能的危害。</p>
<h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="自动更新apt和yum源的脚本">自动更新apt和yum源的脚本</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># author: lzf</span><br><span class="line"># feature:</span><br><span class="line">#     1. suport ubuntu,debinen,centos,kali</span><br><span class="line">#     2. backup and restore</span><br><span class="line"># todo:</span><br><span class="line">#     1. yum源更新，仅支持了centos7</span><br><span class="line">#     1. apt源更新，遗漏了部分源</span><br><span class="line"># 帮助</span><br><span class="line">help()&#123;</span><br><span class="line">    echo &quot;$0 update | backup | restore [file_real_path] | list-backup&quot;</span><br><span class="line">&#125;</span><br><span class="line"># 初始化</span><br><span class="line">init()&#123;</span><br><span class="line">    check_depen</span><br><span class="line">    get_os_info</span><br><span class="line">    case $ID in</span><br><span class="line">        ubuntu)</span><br><span class="line">            ;;</span><br><span class="line">        debian)</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            if [ $VERSION_ID != &#x27;7&#x27; ]; then</span><br><span class="line">                echo &quot;Error, Only support centos7.&quot;</span><br><span class="line">                exit 1</span><br><span class="line">            fi</span><br><span class="line">            ;;</span><br><span class="line">        kali)</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo &quot;Error: $ID is not supported.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line"># 获取系统源路径(用于获取备份文件)</span><br><span class="line">get_os_source_path()&#123;</span><br><span class="line">    file_list=()</span><br><span class="line">    case $ID in</span><br><span class="line">        arch)</span><br><span class="line">            file_list+=(&quot;/etc/pacman.d/mirrorlist&quot;)</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            for f in /etc/yum.repos.d/*.repo; do</span><br><span class="line">                file_list+=(&quot;$f&quot;)</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            file_list+=(&quot;/etc/apt/sources.list&quot;)</span><br><span class="line">            for f in /etc/apt/sources.list.d/*; do</span><br><span class="line">                if [[ &quot;$f&quot; != *back ]]; then</span><br><span class="line">                    file_list+=(&quot;$f&quot;)</span><br><span class="line">                fi</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">    if [ -z $1 ]; then</span><br><span class="line">        echo $&#123;file_list[@]&#125;</span><br><span class="line">    elif [ $1 = &quot;backup&quot; ]; then</span><br><span class="line">        new_list=()</span><br><span class="line">        for f in $&#123;file_list[@]&#125;;do</span><br><span class="line">            # 如果文件存在则放入新的数组</span><br><span class="line">            if [ -f $f ]; then</span><br><span class="line">                new_list+=(&quot;$f.back&quot;)</span><br><span class="line">            fi</span><br><span class="line">        done</span><br><span class="line">        echo $&#123;new_list[@]&#125;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># 检测依赖软件包</span><br><span class="line">check_depen()&#123;</span><br><span class="line">    local depen=(&quot;ls&quot; &quot;declare&quot;)</span><br><span class="line">    for c in $&#123;depen[@]&#125;; do</span><br><span class="line">        has_cmd $c || &#123;</span><br><span class="line">            echo &quot;Error: $c is not installed.&quot;</span><br><span class="line">            exit 1</span><br><span class="line">        &#125;</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line">has_cmd () &#123;</span><br><span class="line">    command -v $1 &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"># 获取当前系统信息</span><br><span class="line">get_os_info()&#123;</span><br><span class="line">    if [ -f /etc/os-release ]; then</span><br><span class="line">        source /etc/os-release</span><br><span class="line">    else</span><br><span class="line">        echo &quot;Error: /etc/os-release not found.&quot;</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># 备份镜像源(单个文件)</span><br><span class="line">backup_source()&#123;</span><br><span class="line">    if [ -f $1 ]; then</span><br><span class="line">        cp $1 $1.back \</span><br><span class="line">            &amp;&amp; echo &quot;$1 Backup success.Backup file is $1.back&quot; \</span><br><span class="line">            || echo &quot;$1 Backup failed.&quot;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># 恢复备份源(单个文件)</span><br><span class="line">restore_source()&#123;</span><br><span class="line">    backup_file_path=$1</span><br><span class="line">    if [ -f $backup_file_path ]; then</span><br><span class="line">        file_postfix=$&#123;backup_file_path:($&#123;#backup_file_path&#125;-4):$&#123;#backup_file_path&#125;&#125;</span><br><span class="line">        origin_file_path=$&#123;backup_file_path:0:($&#123;#backup_file_path&#125;-5)&#125;</span><br><span class="line">        echo $file_postfix</span><br><span class="line">        echo $origin_file_path</span><br><span class="line">        if [ $&#123;backup_file_path:($&#123;#backup_file_path&#125;-4):$&#123;#backup_file_path&#125;&#125; = &#x27;back&#x27; ]; then</span><br><span class="line">            if [ -f $origin_file_path ]; then</span><br><span class="line">                rm $origin_file_path</span><br><span class="line">            fi</span><br><span class="line">            cp $backup_file_path $origin_file_path \</span><br><span class="line">                &amp;&amp; echo &quot;$backup_file_path Restore success.Restore file is $origin_file_path&quot; \</span><br><span class="line">                || echo &quot;$backup_file_path Restore failed.&quot;</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># 列出所有备份文件</span><br><span class="line">list_backup_source()&#123;</span><br><span class="line">    files=`get_os_source_path back`</span><br><span class="line">    if [ -z $files ];then</span><br><span class="line">        return 0</span><br><span class="line">    else</span><br><span class="line">        for file in $files; do</span><br><span class="line">            echo backup_file: `realpath $file`</span><br><span class="line">        done</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"># 备份源</span><br><span class="line">backup()&#123;</span><br><span class="line">    case $ID in</span><br><span class="line">        centos)</span><br><span class="line">            p=`get_os_source_path backup`</span><br><span class="line">            echo $p</span><br><span class="line">            for f in ls $p ; do</span><br><span class="line">                backup_source $f</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            echo &quot;正在编写代码，暂时不支持$ID&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo `get_os_source_path`</span><br><span class="line">            for f in `get_os_source_path`; do</span><br><span class="line">                backup_source $f</span><br><span class="line">            done</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line"># 对源文件进行sed操作</span><br><span class="line">sed_list()&#123;</span><br><span class="line">    for f in `get_os_source_path`; do</span><br><span class="line">        echo &quot;正在为$&#123;f&#125;进行sed操作...&quot;</span><br><span class="line">        sed -i &quot;$1&quot; $f</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line"># apt更新</span><br><span class="line">update_apt()&#123;</span><br><span class="line">    apt update \</span><br><span class="line">        &amp;&amp; echo &quot;Update success.&quot; \</span><br><span class="line">        || echo &quot;Update failed.&quot;</span><br><span class="line">&#125;</span><br><span class="line"># 换源</span><br><span class="line">change_source()&#123;</span><br><span class="line">    case $ID in</span><br><span class="line">        ubuntu)</span><br><span class="line">            sed_list &quot;s@//.*archive.ubuntu.com@//mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        debian)</span><br><span class="line">            sed_list &quot;s@http://\(deb.debian.org\|archive.debian.org\)@https://mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        centos)</span><br><span class="line">            if [ $VERSION_ID -eq &#x27;7&#x27; ] ;then</span><br><span class="line">                # todo</span><br><span class="line">                curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">                curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">                sed -i &#x27;s/http:\/\/mirrors.cloud.aliyuncs.com/url_tmp/g&#x27;  /etc/yum.repos.d/CentOS-Base.repo &amp;&amp;  sed -i &#x27;s/http:\/\/mirrors.aliyun.com/http:\/\/mirrors.cloud.aliyuncs.com/g&#x27; /etc/yum.repos.d/CentOS-Base.repo &amp;&amp; sed -i &#x27;s/url_tmp/http:\/\/mirrors.aliyun.com/g&#x27; /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">                yum clean all &amp;&amp; yum makecache \</span><br><span class="line">                    &amp;&amp; echo &quot;Update success.&quot; \</span><br><span class="line">                    || echo &quot;Update failed.&quot;</span><br><span class="line">            fi</span><br><span class="line">            ;;</span><br><span class="line">        kali)</span><br><span class="line">            sed_list &quot;s@http://http.kali.org@https://mirrors.aliyun.com@g&quot;</span><br><span class="line">            update_apt</span><br><span class="line">            ;;</span><br><span class="line">        arch)</span><br><span class="line">            echo &quot;正在编写代码，暂时不支持$ID&quot;</span><br><span class="line">            exit 1</span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">&#125;</span><br><span class="line">main()&#123;</span><br><span class="line">    init</span><br><span class="line">    #ID=&quot;centos&quot;</span><br><span class="line">    if [ $# -eq 0 ]; then</span><br><span class="line">        backup</span><br><span class="line">        change_source</span><br><span class="line">    else</span><br><span class="line">        case $1 in</span><br><span class="line">            &quot;update&quot;)</span><br><span class="line">                backup</span><br><span class="line">                change_source</span><br><span class="line">                ;;</span><br><span class="line">            &quot;backup&quot;)</span><br><span class="line">                backup</span><br><span class="line">                ;;</span><br><span class="line">            &quot;restore&quot;)</span><br><span class="line">                if [ -f $2 ]; then</span><br><span class="line">                    restore_source $2</span><br><span class="line">                else</span><br><span class="line">                    echo &quot;Error: $2 not found.&quot;</span><br><span class="line">                fi</span><br><span class="line">                ;;</span><br><span class="line">            &quot;list-backup&quot;)</span><br><span class="line">                list_backup_source</span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                help</span><br><span class="line">                ;;</span><br><span class="line">        esac</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line">main $@</span><br></pre></td></tr></table></figure>

<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><h2><span id="参考">参考</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/25/day11_kls/" data-id="cm4ockldp0004a3iw8efagilm" data-title="day11_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rce/" rel="tag">rce</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day10_kls_review" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/23/day10_kls_review/" class="article-date">
  <time class="dt-published" datetime="2024-11-23T06:45:08.000Z" itemprop="datePublished">2024-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/23/day10_kls_review/">day10_kls_review</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="docker-compose">docker-compose</span></h3><h4><span id="yml的构成">yml的构成</span></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.9&#x27;</span>  <span class="comment"># Compose 文件格式版本</span></span><br><span class="line"><span class="attr">services:</span>       <span class="comment"># 服务定义</span></span><br><span class="line">  <span class="attr">service_name:</span> <span class="comment"># 服务名称</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">image_name:tag</span>  <span class="comment"># 使用的镜像和标签</span></span><br><span class="line">    <span class="attr">build:</span>       <span class="comment"># 构建选项（可选）</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./path</span>      <span class="comment"># Dockerfile 的上下文目录</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile</span>  <span class="comment"># Dockerfile 文件名</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">container_name</span> <span class="comment"># 容器名称（可选）</span></span><br><span class="line">    <span class="attr">ports:</span>        <span class="comment"># 端口映射</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;外部端口:容器端口&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span>      <span class="comment"># 数据卷挂载</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">&quot;宿主路径:容器路径&quot;</span></span><br><span class="line">    <span class="attr">environment:</span>  <span class="comment"># 环境变量</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">KEY=value</span></span><br><span class="line">    <span class="attr">depends_on:</span>   <span class="comment"># 服务依赖关系</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">other_service_name</span></span><br><span class="line">    <span class="attr">networks:</span>     <span class="comment"># 网络配置</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">network_name</span></span><br><span class="line"><span class="attr">networks:</span>         <span class="comment"># 自定义网络（可选）</span></span><br><span class="line">  <span class="attr">network_name:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line"><span class="attr">volumes:</span>          <span class="comment"># 定义数据卷（可选）</span></span><br><span class="line">  <span class="attr">volume_name:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">local</span></span><br></pre></td></tr></table></figure>

<h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="docker-compose搭建harbor">docker-compose搭建harbor</span></h3><p><img src="/../assets/image_1732239707110_0.png" alt="image.png"></p>
<blockquote>
<p>已经启动过了，这里就不演示启动了</p>
</blockquote>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><p>复习内容没写，累了，周五下午打游戏去了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/23/day10_kls_review/" data-id="cm4ockldl0002a3iweysw2ljw" data-title="day10_kls_review" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/review/" rel="tag">review</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-week2_kls_exam" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/22/week2_kls_exam/" class="article-date">
  <time class="dt-published" datetime="2024-11-22T07:03:19.000Z" itemprop="datePublished">2024-11-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/22/week2_kls_exam/">week2_kls_exam</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="题目1">题目1</span></h2><p>配置vsftpd服务，添加ftp服务用户lihua，并限制lihua使用ftp服务的访问路径为&#x2F;usr&#x2F;share&#x2F;ftp_files<br>id:: 67401618-77f2-4cd7-ab26-b033e352aa66</p>
<h3><span id="step1添加用户并设置家目录以及家目录权限设置密码">step1：添加用户，并设置家目录，以及家目录权限，设置密码</span></h3><p><img src="/../assets/image_1732253536205_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732254737383_0.png" alt="image.png"></p>
<h3><span id="step2修改vsftp配置文件">step2：修改vsftp配置文件</span></h3><p><img src="/../assets/image_1732254394767_0.png" alt="image.png"></p>
<p>修改<code>/etc/vsftpd/vsftpd_userlist</code></p>
<p><img src="/../assets/image_1732253873260_0.png" alt="image.png"></p>
<p>创建<code>/etc/vsftpd/user_conf</code>目录，并添加<code>lihua</code>配置文件</p>
<p><img src="/../assets/image_1732253955889_0.png" alt="image.png"></p>
<h3><span id="step3重新加载vsftp配置文件并重启">step3:重新加载vsftp配置文件并重启</span></h3><p><img src="/../assets/image_1732254036298_0.png" alt="image.png"></p>
<h3><span id="step4连接ftp">step4:连接ftp</span></h3><p><img src="/../assets/image_1732254539764_0.png" alt="image.png"></p>
<p><img src="/../assets/vsftp_1732254502349_0.gif" alt="vsftp.gif"></p>
<h2><span id="题目2">题目2</span></h2><p>配置ssh服务，要求用户jack可以使用id_rsa 免密登录ssh</p>
<p>server: centos.pcx.home</p>
<p>client: kali.pcx.home</p>
<h3><span id="step1添加jack用户创建家目录设置密码">step1:添加jack用户,创建家目录，设置密码</span></h3><p><img src="/../assets/image_1732254970492_0.png" alt="image.png"></p>
<h3><span id="step2让jack生成ssh公私钥匙对">step2:让jack生成ssh公私钥匙对</span></h3><p><img src="/../assets/image_1732255036501_0.png" alt="image.png"></p>
<h3><span id="step3上传公钥">step3：上传公钥</span></h3><p><img src="/../assets/image_1732255169120_0.png" alt="image.png"></p>
<h3><span id="step4登陆centos">step4：登陆centos</span></h3><p><img src="/../assets/image_1732255239120_0.png" alt="image.png"></p>
<p>在centos端查看在线用户：</p>
<p><img src="/../assets/image_1732255267589_0.png" alt="image.png"></p>
<p>在centos端查看<code>~/.ssh/authorized_keys</code></p>
<p><img src="/../assets/image_1732255349220_0.png" alt="image.png"></p>
<h2><span id="题目3">题目3</span></h2><p>在kali上编写ufw防火墙规则，禁止kali连接任何机器的smb服务</p>
<h3><span id="step1开启smb服务并测试">step1:开启smb服务并测试</span></h3><p><img src="/../assets/image_1732255758185_0.png" alt="image.png"></p>
<p>连接测试</p>
<p><img src="/../assets/image_1732255898430_0.png" alt="image.png"></p>
<h3><span id="step2ufw规则编写">step2：ufw规则编写</span></h3><p>现有规则查看</p>
<p><img src="/../assets/image_1732255960355_0.png" alt="image.png"></p>
<p>新规则添加</p>
<p><img src="/../assets/image_1732256290665_0.png" alt="image.png"></p>
<p><code>sudo ufw deny out 139/tcp</code>，445和139都要禁止</p>
<p>查看规则</p>
<p><img src="/../assets/image_1732256695233_0.png" alt="image.png"></p>
<h3><span id="step3重启ufw并尝试连接其他主机的smb">step3：重启ufw并尝试连接其他主机的smb</span></h3><p>重启</p>
<p><img src="/../assets/image_1732256373774_0.png" alt="image.png"></p>
<p>尝试连接</p>
<p><img src="/../assets/kalismb_1732256611407_0.gif" alt="kalismb.gif"></p>
<h2><span id="题目4">题目4</span></h2><p>基于Dockerfile构建的镜像搭建一个容器，要求同时具有ssh服务与redis服务，基础镜像选择 centos&#x2F;debian&#x2F;ubuntu均可</p>
<h3><span id="step1拉取ubuntu镜像">step1:拉取ubuntu镜像</span></h3><p><img src="/../assets/image_1732257125498_0.png" alt="image.png"></p>
<p>这里拉过了，就不拉了</p>
<h3><span id="step2编写dockerfile">step2:编写Dockerfile</span></h3><p>启动脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动 SSH 服务</span></span><br><span class="line">service ssh start</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动 Redis 服务</span></span><br><span class="line">redis-server &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">保持容器运行</span></span><br><span class="line">tail -f /dev/null</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732258931385_0.png" alt="image.png"></p>
<h3><span id="step3构建镜像">step3：构建镜像</span></h3><p><img src="/../assets/image_1732257384246_0.png" alt="image.png"></p>
<p>查看镜像</p>
<p><img src="/../assets/image_1732258009591_0.png" alt="image.png"></p>
<h3><span id="step4测试镜像">step4：测试镜像</span></h3><p>创建容器</p>
<p><img src="/../assets/image_1732258122511_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732259498695_0.png" alt="image.png"></p>
<p>测试ssh连接</p>
<p><img src="/../assets/image_1732258814860_0.png" alt="image.png"></p>
<p>测试redis连接</p>
<p><img src="/../assets/image_1732258841977_0.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/22/week2_kls_exam/" data-id="cm4ockleg001na3iw4inqamcv" data-title="week2_kls_exam" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/exam/" rel="tag">exam</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day9_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/21/day9_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-21T02:42:15.000Z" itemprop="datePublished">2024-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/21/day9_kls/">day9_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="docker网络">docker网络</span></h3><h4><span id="docker中的网络模式">docker中的网络模式</span></h4><p>bridge</p>
<p>host</p>
<p>none</p>
<h4><span id="相关命令">相关命令</span></h4><p>查看:<code>docker network ls</code>,<code>docker network inspect NETWORK</code></p>
<p>创建:<code>docker network create -d TYPE network_name</code></p>
<p>加入:<code>docker network connect NETWORK CONTAINER [CONTAINERS]</code></p>
<h4><span id="使用">使用</span></h4><p>在创建容器时使用<code>--network </code>指定网络即可<code>docker run --network NETWORK IMAGE</code></p>
<h3><span id="docker卷">docker卷</span></h3><h4><span id="基本用法">基本用法</span></h4><p>查看<code>docker volume ls</code></p>
<p>创建<code>docker volume create volume_name</code></p>
<p>删除<code>docker volume rm VOLUME</code></p>
<h4><span id="使用">使用</span></h4><p>在创建容器时使用<code>-v</code>指定即可<code>docker run -v VOLUME:xxx IMAGE</code></p>
<h3><span id="docker创建自己的镜像dockerfile">docker创建自己的镜像(dockerfile)</span></h3><h4><span id="不使用dockerfiledocker-commit-不推荐">不使用dockerfile(docker commit 不推荐)</span></h4><p>不使用dockerfile，基于CONIANER的修改生成新的镜像</p>
<p>使用<code>docker commit CONTAINER IMAGE</code></p>
<p>不推荐使用:</p>
<p>难以维护</p>
<p>不透明，无法得知修改了什么</p>
<h4><span id="使用dockerfile">使用dockerfile</span></h4><h5><span id="基本语法">基本语法</span></h5><p><code>FROM</code>：指定基础镜像。</p>
<p><code>RUN</code>：运行命令。</p>
<p><code>CMD</code> 和 <code>ENTRYPOINT</code>：指定容器启动命令。</p>
<p><code>COPY</code> 和 <code>ADD</code>：复制文件到镜像中。</p>
<p><code>WORKDIR</code>：设置工作目录。</p>
<p><code>ENV</code>：设置环境变量。</p>
<p><code>EXPOSE</code>：声明端口。</p>
<p><code>VOLUME</code>：定义挂载点。</p>
<p><code>LABEL</code>：添加元数据。</p>
<h5><span id="生成镜像">生成镜像</span></h5><p><code>docker build -t IMAGE docker_file_dirname</code></p>
<h3><span id="docker-compose">docker-compose</span></h3><h4><span id="概念">概念</span></h4><p><code>docker-compose.yml</code>是docker-compose启动所需的配置文件。默认是这个，如果你要使用其他的请在运行时指定<code>docker-compose up -f /path/to/your_yml</code></p>
<h4><span id="命令">命令</span></h4><p>创建<code>docker-compose up [options]</code>，常用的参数<code>-d</code>后台运行</p>
<p>启停<code>docker-compose start/stop</code></p>
<p>删除<code>docker-compose down</code></p>
<h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="dvwa站库分离php-apachemysql">dvwa站库分离(php-apache+mysql)</span></h3><p>创建docker网络</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create -d bridge my_self_bridge</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732153437645_0.png" alt="image.png"></p>
<p>php-apache环境搭建</p>
<p><img src="/../assets/image_1732153569619_0.png" alt="image.png"></p>
<blockquote>
<p>因拓展无法安装，后面这个我换成了<code>php:8.0-apache</code>，后面发现不是php版本的问题。dvwa官方推荐7.3及以上</p>
</blockquote>
<p>创建mysql数据库</p>
<p><img src="/../assets/image_1732153724752_0.png" alt="image.png"></p>
<blockquote>
<p>这里无需进行映射端口，使用主机名(容器名)连接即可</p>
</blockquote>
<p>创建结束后，我们查看该网络的信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network inspect my_self_bridge</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/image_1732153969902_0.png" alt="image.png"></p>
<blockquote>
<p>我们发现这两个container已经加入到网络中了</p>
</blockquote>
<p>把dvwa源码扔到php的app目录</p>
<p><img src="/../assets/image_1732154086639_0.png" alt="image.png"></p>
<p>复制配置文件并修改</p>
<p><img src="/../assets/image_1732154359160_0.png" alt="image.png"></p>
<blockquote>
<p>这里的db_server我们可以设置为dvwa-mysql(容器名)</p>
</blockquote>
<p>修改完成后访问<code>setup.php</code></p>
<p><img src="/../assets/image_1732155125186_0.png" alt="image.png"></p>
<p>发现没有mysqli拓展</p>
<p>php镜像官方提供了一个工具<code>docker-php-ext-install</code>用于安装拓展</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it my-apache-php-app /bin/bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为dg的安装提前安装相关依赖</span></span><br><span class="line">apt-get update &amp;&amp; apt-get install -y \</span><br><span class="line">    libjpeg-dev \</span><br><span class="line">    libpng-dev \</span><br><span class="line">    libfreetype6-dev \</span><br><span class="line">    zlib1g-dev</span><br><span class="line">docker-php-ext-install mysqli dg pdo_mysql</span><br></pre></td></tr></table></figure>

<p>现在我们退出容器，重新启动容器</p>
<p><img src="/../assets/image_1732156852055_0.png" alt="image.png"></p>
<h3><span id="创建第一个自己的镜像docker-commit">创建第一个自己的镜像(docker commit)</span></h3><p>拉取ubuntu镜像</p>
<p><img src="/../assets/image_1732167921582_0.png" alt="image.png"></p>
<p>创建一个ubuntu容器，并在后台运行</p>
<p><img src="/../assets/image_1732168395251_0.png" alt="image.png"></p>
<p>将<code>kitten</code>可执行文件上传</p>
<p><img src="/../assets/image_1732168260215_0.png" alt="image.png"></p>
<p>将镜像提交</p>
<p><img src="/../assets/image_1732168929925_0.png" alt="image.png"></p>
<p>根据刚创建的镜像开启一个新的容器，查看<code>/bin</code>下是否有kitten</p>
<p><img src="/../assets/image_1732168813773_0.png" alt="image.png"></p>
<h2><span id><img src="/../assets/image_1732168742837_0.png" alt="image.png"></span></h2><h3><span id="构建python程序镜像docker-build">构建python程序镜像(docker build)</span></h3><p>dockerbuild文件编写</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.8</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> /opt/app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /opt/app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install --upgrade pip \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; pip install -r requirements.txt</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python&quot;</span>, <span class="string">&quot;/opt/app/main.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于参数传递，可以使用，run的参数传递，环境变量，配置文件等</p>
</blockquote>
<p><img src="/../assets/image_1732179427146_0.png" alt="image.png"></p>
<p>创建镜像<code>docker build -t IMAGE:TAG .</code></p>
<p>运行<code>docker run IMAGE args</code></p>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><p>DONE dockerfile编写</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/21/day9_kls/" data-id="cm4ocklec001da3iwazi7bzu9" data-title="day9_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day8_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/20/day8_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-20T12:35:43.000Z" itemprop="datePublished">2024-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/20/day8_kls/">day8_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="docker">docker</span></h3><h4><span id="安装docker-ce">安装docker-ce</span></h4><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/10/centos%E5%AE%89%E8%A3%85docker%E4%BB%A5%E5%8F%8Adocker-compose/">centos安装docker以及docker-compose | ziWindlu的博客</a></p>
<p>使用apt包管理器的发行版</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加公钥</span></span><br><span class="line">install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">sudo chmod a+r /etc/apt/keyrings/docker.gpg</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参加仓库</span></span><br><span class="line">echo \</span><br><span class="line">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian \</span><br><span class="line">  &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | \</span><br><span class="line">  tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>特殊的，如果你使用的kalilinux,那么在添加仓库这一步需要将<code>&quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot;</code>替换为<code>buster</code></p>
</blockquote>
<h4><span id="普通权限用户便捷地执行docker">普通权限用户便捷地执行docker</span></h4><p>方案1使用sudo无需输入密码</p>
<p>编辑你的<code>sudoers</code></p>
<p><code>user_name ALL=(root:root) NOPASSWD: /bin/docker</code></p>
<p>这样你就可以愉快的<code>sudo docker</code>啦</p>
<p>方案2加入docker用户组(好用，推荐)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">usermod -aG docker $USER</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换到docker用户组，不想执行这个命令的话，你可以重新登陆一下</span></span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure>

<p>这样你就可以愉快的使用<code>docker</code>啦，不用使用<code>sudo</code>哦</p>
<h4><span id="docker添加代理">docker添加代理</span></h4><p>编辑<code>/etc/docker/daemon.json</code>配置docker的代理</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;proxies&quot;: &#123;</span><br><span class="line">		&quot;http-proxy&quot;: &quot;your_proxy&quot;,</span><br><span class="line">		&quot;https-proxy&quot;: &quot;your_proxy&quot;,</span><br><span class="line">		&quot;no-proxy&quot;: &quot;your_no_proxy_doman,other_doman&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重启docker</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

<h4><span id="使用">使用</span></h4><h5><span id="概念">概念</span></h5><p>容器(CONTAINER)、镜像(IMAGE)</p>
<h5><span id="镜像相关操作">镜像相关操作</span></h5><p>搜索镜像<code>docker search IMAGE</code></p>
<p>拉取镜像<code>docker pull IMAGE</code></p>
<h5><span id="创建">创建</span></h5><p><code>docker run [options] IMAGE [command [args]]</code></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-d</code></td>
<td>以守护程序运行(后台运行)</td>
<td></td>
</tr>
<tr>
<td><code>-v</code></td>
<td>创建挂载绑定</td>
<td><code>docker run -v /host/path:/container/path IMAGE</code></td>
</tr>
<tr>
<td><code>-p</code></td>
<td>端口映射</td>
<td><code>docker run -p host_port:container_port IMAGE</code></td>
</tr>
<tr>
<td><code>--name</code></td>
<td>指定容器名</td>
<td><code>docker -run --name container_name IMAGE</code></td>
</tr>
<tr>
<td><code>--restart</code></td>
<td>重启策略</td>
<td>常用的<code>always</code>,<code>no</code></td>
</tr>
<tr>
<td><code>-e</code></td>
<td>设置环境变量</td>
<td><code>docker run -e ENV_KEY=&quot;env_value&quot; IMAGE</code></td>
</tr>
<tr>
<td><code>--rm</code></td>
<td>容器退出后删除</td>
<td><code>docker run --rm busybox ping baidu.com </code></td>
</tr>
</tbody></table>
<h5><span id="修改">修改</span></h5><p><code>docker update [options] CONTAINER [CONTAINERS]</code></p>
<h5><span id="删除">删除</span></h5><p>删除容器<code>docker rm CONTAINER</code></p>
<p>删除镜像<code>docker rmi IMAGE</code></p>
<h5><span id="打包与导入">打包与导入</span></h5><p><strong>镜像</strong></p>
<p>打包:<code>docker save -o xx.tar IMAGE</code></p>
<p>导入:<code>docker load -i xx.tar</code></p>
<p><strong>容器</strong></p>
<p>打包:<code>docker export -o xx.tar CONTAINER</code></p>
<p>导入:<code>docker import xx.tar IMAGE</code></p>
<h5><span id="docker网络">docker网络</span></h5><p>TODO [[docker网络]]</p>
<h5><span id="日志">日志</span></h5><p><code>docker logs -f CONTAINER</code></p>
<h4><span id="docker添加kitty集成">docker添加kitty集成</span></h4><p>step1：将<code>kitten</code>可执行文件放到docker的<code>/bin</code>或其他可执行目录中</p>
<p>step2：接下来愉快的执行<code>docker exec -it container_name kitten run-shell --shell=/path/to/shell</code>啦</p>
<h3><span id="散碎的知识点">散碎的知识点</span></h3><h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="使用docker启动一个nginx">使用docker启动一个nginx</span></h3><h4><span id="寻找可用镜像">寻找可用镜像</span></h4><p>在dockerhub中搜索ngnix</p>
<p><img src="/../assets/image_1732080453573_0.png" alt="image.png"></p>
<p>我们使用官方镜像</p>
<h4><span id="拉取镜像">拉取镜像</span></h4><p><img src="/../assets/image_1732080547597_0.png" alt="image.png"></p>
<h4><span id="创建docker容器">创建docker容器</span></h4><p>nginx文档给出了一个简单的命令</p>
<p><img src="/../assets/image_1732081649447_0.png" alt="image.png"></p>
<h4><span id="测试">测试</span></h4><p>在目录下创建一个<code>index.html</code></p>
<p><img src="/../assets/image_1732081849987_0.png" alt="image.png">{:height 132, :width 687}</p>
<p>访问<code>localhost:8080</code></p>
<p><img src="/../assets/2024-11-20_13-51_1732081933535_0.jpg" alt="2024-11-20_13-51.jpg"><br>id:: 673d78e0-9c74-47bd-b3eb-5f9e34550dff</p>
<h3><span id="使用docker搭建lampdvwa">使用docker搭建lamp+dvwa</span></h3><p>拉取lamp</p>
<p><code>docker pull mattrayner/lamp:latest-1804</code></p>
<p><img src="/../assets/image_1732103257475_0.png" alt="image.png"></p>
<p>启动容器</p>
<p><code>docker run -p &quot;80:80&quot; -v $&#123;PWD&#125;/app:/app mattrayner/lamp:latest-1804</code></p>
<p><img src="/../assets/image_1732103526988_0.png" alt="image.png"></p>
<p>我们发现了mysql的密码</p>
<p><img src="/../assets/image_1732103997654_0.png" alt="image.png"></p>
<p>下一步我们要修改mysql密码，我们直接使用phpmyadmin，账号为admin,密码为mysql的密码</p>
<p><img src="/../assets/image_1732103618719_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104065764_0.png" alt="image.png"></p>
<p>下载dvwa源码并传到目标服务器</p>
<p><img src="/../assets/image_1732104266691_0.png" alt="image.png"></p>
<p>解压并复制一份dvwa配置</p>
<p><img src="/../assets/image_1732104352245_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104386233_0.png" alt="image.png"></p>
<p>修改dvwa数据库配置</p>
<p><img src="/../assets/image_1732104739475_0.png" alt="image.png"></p>
<p>在网页端初始化dvwa</p>
<p><img src="/../assets/image_1732104768661_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1732104791127_0.png" alt="image.png"></p>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><h2><span id="参考">参考</span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/20/day8_kls/" data-id="cm4ocklec001ba3iwgl44apwu" data-title="day8_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day7_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/19/day7_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-19T11:29:05.000Z" itemprop="datePublished">2024-11-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/19/day7_kls/">day7_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="防火墙">防火墙</span></h3><h4><span id="linux常用的防火墙">linux常用的防火墙</span></h4><p>iptables(基于netfilter)</p>
<p>nftables(iptables的后继，现代化的防火墙)</p>
<p>ufw(基于iptables)</p>
<p>firewalld</p>
<h4><span id="基本概念">基本概念</span></h4><h5><span id="四表五链">四表五链</span></h5><p>四表(table)：Filter表、NAT表、Mangle表、Raw表</p>
<p>五链(chain)：PREROUTING链、INPUT链、FORWARD链、OUTPUT链、POSTROUTING链</p>
<h5><span id="规则以iptables为例">规则(以iptables为例)</span></h5><p>匹配条件:</p>
<p>指定规则适用的数据包类型（如源地址、目标地址、协议等）。</p>
<p>IP 地址：-s 192.168.1.1（源地址）或 -d 10.0.0.1（目标地址）。</p>
<p>协议：-p tcp。</p>
<p>端口：–dport 22（目标端口）或 –sport 80（源端口）。</p>
<p>动作（Action）:</p>
<p>定义数据包被匹配后执行的操作。</p>
<p>常见动作：</p>
<p>ACCEPT：允许数据包通过。</p>
<p>DROP：直接丢弃数据包。</p>
<p>REJECT：拒绝数据包并返回响应。</p>
<p>LOG：记录数据包信息到日志中。</p>
<p>便捷的规则书写</p>
<p>多个ip</p>
<p>指定某个网络：<code>iptables -A INPUT -s 192.168.1.1,192.168.1.0/24 -j ACCEPT</code></p>
<p>指定多个非连续ip：<code>iptables -A INPUT -s 192.168.1.1,192.168.1.2,192.168.1.3 -j ACCEPT</code></p>
<p>指定多个连续ip：<code>sudo iptables -A INPUT -m iprange --src-range 192.168.1.100-192.168.1.120 -j ACCEPT</code></p>
<p>多个端口</p>
<p>使用<code>,</code>指定多个端口：<code>-m multiport</code>,<code>iptables -A INPUT -p tcp -m multiport --dports 22,80,443 -j ACCEPT</code></p>
<p>使用<code>:</code>指定多个端口：，<code>iptables -A INPUT -p tcp --dport 1000:2000 -j ACCEPT</code></p>
<h5><span id="规则匹配逻辑">规则匹配逻辑</span></h5><p>从上到下逐行匹配，第一条匹配成功后立即停止检查后续规则</p>
<p>因此，规则匹配的顺序应从具体到通用，特例优先，全局策略后置。</p>
<h3><span id="iptables">iptables</span></h3><h4><span id="启停">启停</span></h4><p><code>systemctl start/stop iptables</code></p>
<h4><span id="查看规则">查看规则</span></h4><p>查看规则<code>iptables -t [table]  -L [chain] [options]</code></p>
<p>常用参数:</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-n</code></td>
<td>numeric，显示数字ip和端口</td>
<td></td>
</tr>
<tr>
<td><code>-v</code></td>
<td>verbose，冗长的信息</td>
<td></td>
</tr>
<tr>
<td><code>--line-number</code></td>
<td>列出规则时在每一行添加数字(这个数字在删除时有帮助)</td>
<td></td>
</tr>
</tbody></table>
<h4><span id="添加规则">添加规则</span></h4><p><code>iptables -t [table] -A [chain] [match] -j [action]</code></p>
<h4><span id="删除规则">删除规则</span></h4><p><code>iptables -t [table] -D [chain]</code></p>
<blockquote>
<p>table默认为filter</p>
</blockquote>
<h4><span id="永久保存防火墙配置">永久保存防火墙配置</span></h4><p>保存<code>iptables-save &gt; file</code></p>
<p>加载<code>iptables-restore &lt; file</code></p>
<p>自动导入:写一个开机自启脚本，使用 <code>iptables-persistent</code></p>
<h3><span id="ufw">ufw</span></h3><h4><span id="启停">启停</span></h4><p><code>systemctl start/stop/restart ufw</code></p>
<p><code>ufw enable/disable/reload</code></p>
<p>状态查看:</p>
<p><code>systemctl status ufw</code></p>
<p><code>ufw status</code></p>
<h4><span id="查看规则">查看规则</span></h4><p><code>ufw status [numberd] [verbose]</code></p>
<h4><span id="添加规则">添加规则</span></h4><p><code>ufw action args</code></p>
<p>action:<code>allow</code>,<code>reject</code>,<code>deny</code>,<code>limit</code></p>
<p>简单的args：</p>
<p>端口号&#x2F;协议<code>port[/protocol]</code></p>
<p>服务名<code>service</code>，example:<code>samba</code>,<code>ftp</code>,<code>mysql</code></p>
<blockquote>
<p>注意这里的mysql等服务都是默认的端口，如果你改了对应服务的端口，这里不会生效</p>
</blockquote>
<p>指定出入方向</p>
<p><code>ufw allow out 22</code></p>
<blockquote>
<p>值得注意的，如果没有指定方向那么方向默认为in</p>
</blockquote>
<p>指定出入ip,协议，端口</p>
<p><code>ufw deny proto tcp from 10.0.0.0/8 to 192.168.0.1 port 25</code></p>
<p>from:原ip,to 目的ip</p>
<p>指定网卡</p>
<p><code>ufw deny on interface proto tcp</code></p>
<p>一些方便的写法</p>
<p><code>any</code>所有的ip</p>
<h4><span id="删除规则">删除规则</span></h4><p><code>ufw delete add_thing</code></p>
<blockquote>
<p><code>add_thing</code>为你添加时输入的内容</p>
</blockquote>
<h4><span id="永久保存防火墙配置">永久保存防火墙配置</span></h4><p>ufw默认就是永久保存，无需做其他操作</p>
<h3><span id="firewalld">firewalld</span></h3><h4><span id="启停">启停</span></h4><p><code>systemctl start/stop/restart firewalld</code></p>
<h4><span id="查看规则">查看规则</span></h4><p><code>firewall-cmd --list-all</code></p>
<h4><span id="添加规则">添加规则</span></h4><p><code>firewall-cmd --add-xx args</code></p>
<p>example:</p>
<p>添加http服务放行<code>firewall-cmd --add-service http</code></p>
<p>添加tcp88端口放行<code>firewall-cmd --add-port 88/tcp</code></p>
<blockquote>
<p>如果想要添加永久规则，需要添加参数<code>--permanent</code>，例如<code>firewall-cmd --permanent --add-service http</code>，让其生效需要执行<code>firewall-cmd --reload</code></p>
</blockquote>
<h4><span id="删除规则">删除规则</span></h4><p><code>firewall-cmd --remove-xx args</code></p>
<p>example:</p>
<p>删除服务规则<code>firewall-cmd --remove-service service_name</code></p>
<h4><span id="其他的">其他的</span></h4><p>应急模式<code>firewall-cmd --panic-on/off</code></p>
<h3><span id="selinux">selinux</span></h3><p>强制访问控制，为linux提供了细粒度的安全控制。</p>
<p>临时关闭</p>
<p><code>setenforce 0</code></p>
<p>永久关闭</p>
<p>编辑<code>/etc/selinux/config</code></p>
<p>修改SELINUX为disable<code>SELINUX=disabled</code></p>
<h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="iptables添加规则拦截icmpiptables">iptables添加规则拦截icmp(iptables)</span></h3><p>规则添加前，ping kali</p>
<p><img src="/../assets/image_1731984214812_0.png" alt="image.png"></p>
<p>添加规则</p>
<p><img src="/../assets/iptables_1731984644135_0.gif" alt="iptables.gif"></p>
<p>规则添加后，ping kali</p>
<p><img src="/../assets/image_1731984623918_0.png" alt="image.png"></p>
<h3><span id="防火墙禁止https出网iptables">防火墙禁止https出网(iptables)</span></h3><p>未配置的情况</p>
<p><img src="/../assets/image_1731998578134_0.png" alt="image.png"></p>
<p>添加防火墙规则</p>
<p><img src="/../assets/image_1731998633835_0.png" alt="image.png"></p>
<p>配置后的情况</p>
<p><img src="/../assets/image_1731998653324_0.png" alt="image.png"></p>
<h3><span id="防火墙禁止访问tcp8000端口iptables">防火墙禁止访问tcp8000端口(iptables)</span></h3><p>在<code>pcx.z.home</code>开启一个8000端口的http服务</p>
<p><img src="/../assets/image_1731999065689_0.png" alt="image.png"></p>
<p>访问正常</p>
<p><img src="/../assets/image_1731999112568_0.png" alt="image.png"></p>
<p>配置防火墙策略</p>
<p><img src="/../assets/image_1731999515849_0.png" alt="image.png"></p>
<p>配置后的情况</p>
<p><img src="/../assets/image_1731999553907_0.png" alt="image.png"></p>
<h3><span id="防火墙配置禁止某个网卡发送icmp包">防火墙配置禁止某个网卡发送icmp包</span></h3><p>配置防火墙策略<code>iptables -I OUTPUT -o interface_name -p icmp -j DROP</code></p>
<p>验证<code>ping -I interface host</code></p>
<h3><span id="防火墙配置允许连接本地sshufw">防火墙配置允许连接本地ssh(ufw)</span></h3><p>配置前</p>
<p><img src="/../assets/image_1732003604921_0.png" alt="image.png"></p>
<blockquote>
<p>假装连不上</p>
</blockquote>
<p>配置防火墙规则</p>
<p><img src="/../assets/image_1732003123810_0.png" alt="image.png"></p>
<p>连接成功</p>
<p><img src="/../assets/image_1732003492874_0.png" alt="image.png"></p>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><p>DONE kitty+zsh补全显示异常问题解决</p>
<blockquote>
<p>kali的zsh配置的问题，我们自己配置就不会有这个问题了</p>
</blockquote>
<h2><span id="参考">参考</span></h2><p>man ufw</p>
<p>man iptables</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/SELinux">SELinux ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/19/day7_kls/" data-id="cm4ockleb0018a3iwhgp8f2la" data-title="day7_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/firewalld/" rel="tag">firewalld</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/selinux/" rel="tag">selinux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ufw/" rel="tag">ufw</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day6_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/18/day6_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-18T10:46:30.000Z" itemprop="datePublished">2024-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/18/day6_kls/">day6_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h3><span id="ssh服务">ssh服务</span></h3><p>服务<code>sshd</code>，端口<code>22</code>，配置文件:<code>/etc/ssh/sshd_config</code>，重要的相关文件<code>~/.ssh/authorized_keys</code></p>
<h2><span id="cron">cron</span></h2><p>服务<code>cronie</code>等，重要的相关文件<code>/etc/crontab</code>,<code>/var/spool/cron/username</code></p>
<h3><span id="smb">SMB</span></h3><h4><span id="服务端">服务端</span></h4><p>安装:<code>yum install samba</code></p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/11/archlinux%E4%B8%8Bsamba%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/">archlinux下samba服务搭建 | ziWindlu的博客</a></p>
<p>端口<code>445,139</code></p>
<p>配置文件:<code>/etc/samba/smb.conf</code></p>
<p>smb用户管理:<code>pdbedit</code></p>
<h4><span id="客户端">客户端</span></h4><p>smbclient连接smb<code>smbclient --user username //host/share_name</code></p>
<p>挂载<code>mount -t cifs -o username=user_name,password=passwd //host/share_name /local_mount_point</code></p>
<blockquote>
<p>对于linux挂载需要安装<code>cifs-utils</code></p>
</blockquote>
<p>win(net use)命令行挂载<code>net use \\host\share_name password /user:user_name</code></p>
<h4><span id="安全">安全</span></h4><p><strong>windows的安全策略</strong></p>
<p>防火墙默认组织smb连接</p>
<p>杀毒软件默认阻止smb连接</p>
<p><strong>历史漏洞</strong></p>
<p>ms17010(永恒之蓝)</p>
<p>CVE-2017-7494</p>
<h3><span id="ftp">ftp</span></h3><h4><span id="服务端">服务端</span></h4><p>安装:<code>yum install vsftpd</code></p>
<p>端口:</p>
<p>配置文件:<code>/etc/vsftpd/vsftpd.conf</code></p>
<p><strong>常见配置</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 匿名用户关闭</span><br><span class="line">anonymous_enable=NO</span><br><span class="line"># 匿名用户的ftp根目录(匿名用户开启才有效)</span><br><span class="line">anon_root=/opt/ftp</span><br><span class="line"># 允许本地用户登陆</span><br><span class="line">local_enable=YES</span><br><span class="line"># 允许写入</span><br><span class="line">write_enable=YES</span><br><span class="line"># 启用用户列表功能</span><br><span class="line">userlist_enable=YES</span><br><span class="line"># 用户列表文件</span><br><span class="line">userlist_file=/etc/vsftpd/vsftpd.userlist</span><br><span class="line"># 用户列表策略</span><br><span class="line">userlist_deny=NO</span><br><span class="line"># 禁止切换root目录</span><br><span class="line">chroot_local_user=YES</span><br><span class="line">allow_writeable_chroot=NO</span><br></pre></td></tr></table></figure>

<p><strong>多用户列表配置</strong></p>
<p>使用<code>pam</code></p>
<p><code>auth required pam_listfile.so item=user sense=allow file=/etc/vsftpd/allow_list2 onerr=fail</code></p>
<h4><span id="客户端">客户端</span></h4><p>ftp客户端<code>ftp host</code></p>
<p>挂载<code>mount -t fuse.curlftpfs ftp://user_name:password@host /mnt_point</code><br>id:: 673af920-f628-4041-8bdb-9821d32774c0</p>
<blockquote>
<p>对于linux挂载需要安装<code>curlftpfs</code></p>
</blockquote>
<h4><span id="安全">安全</span></h4><p>linux默认会有对vsftp的安全配置，比如禁止root用户登陆</p>
<h3><span id="散碎的知识点">散碎的知识点</span></h3><h4><span id="pip临时使用某镜像源">pip临时使用某镜像源</span></h4><p>清华源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple some-package</span><br></pre></td></tr></table></figure>

<h4><span id="pyftpdlib使用">pyftpdlib使用</span></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pyftpdlib -u user_name -P password -p port --write</span><br></pre></td></tr></table></figure>

<h2><span id="实例ampamp作业">实例&amp;&amp;作业</span></h2><h3><span id="windows连接smb图形化">windows连接smb(图形化)</span></h3><p><img src="/../assets/Peek_2024-11-18_11-25_1731900373481_0.gif" alt="Peek 2024-11-18 11-25.gif"></p>
<h3><span id="windows连接smbnet-use">windows连接smb(net use)</span></h3><p><img src="/../assets/Peek_2024-11-18_14-10_1731910306453_0.gif" alt="Peek 2024-11-18 14-10.gif"></p>
<h3><span id="允许root用户登陆ftp配置登陆演示">允许root用户登陆ftp(配置+登陆演示)</span></h3><h4><span id="配置文件修改">配置文件修改</span></h4><p><code>/etc/vsftpd/vsftpd.conf</code>主配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=NO</span><br><span class="line">userlist_enable=YES</span><br><span class="line">userlist_file=/etc/vsftpd/vsftpd.userlist</span><br><span class="line"># 配置策略为允许列表内登陆</span><br><span class="line">userlist_deny=NO</span><br><span class="line">local_enable=YES</span><br><span class="line">write_enable=YES</span><br></pre></td></tr></table></figure>

<p><code>/etc/vsftpd/vsftpd.userlist</code>配置文件编写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root</span><br><span class="line">other_user</span><br></pre></td></tr></table></figure>

<h4><span id="允许root登陆">允许root登陆</span></h4><p>在vsftpd安装后，linux会在<code>/etc/pam.d/vsftpd</code>添加相关安全策略</p>
<p><img src="/../assets/image_1731916314993_0.png" alt="image.png"></p>
<p>修改<code>/etc/vsftpd/ftpusers</code>将里面的root删除，或者把这条策略删除</p>
<p>现在你就可以愉快的连接了</p>
<h4><span id="连接ftp">连接ftp</span></h4><p><img src="/../assets/ftp_1731917042437_0.gif" alt="ftp.gif"></p>
<h3><span id="使用pyftpdlib开启ftp">使用pyftpdlib开启ftp</span></h3><p>服务端</p>
<p><img src="/../assets/ftp-s_1731925849706_0.gif" alt="ftp-s.gif"></p>
<p>客户端</p>
<p><img src="/../assets/ftp-c_1731925795294_0.gif" alt="ftp-c.gif"></p>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><h2><span id="参考">参考</span></h2><p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/"> pypi | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/18/day6_kls/" data-id="cm4ocklea0016a3iwgss703iw" data-title="day6_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ftp/" rel="tag">ftp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" rel="tag">linux常见服务</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smb/" rel="tag">smb</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/" class="article-date">
  <time class="dt-published" datetime="2024-11-15T14:01:02.000Z" itemprop="datePublished">2024-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/">无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="引子">引子</span></h2><p>dvwa搭建过很多次了，这次准备0开始搭建一次。本文将会从一台centos裸机开始，搭建出dvwa靶场。</p>
<p>为了简化部分服务的枯燥安装，且复合中国特色，本文会使用bt面板。官方推荐XAMPP</p>
<p>前排提醒：本文有点抽象，在意的集美集帅们请轻按键盘上的<code>ctrl+w</code></p>
<p>后记:</p>
<p>搭到一半，bt默认有些安全措施，导致dvwa初始化出现了各种问题。枯啦😥，越写越抽象，心态崩了。55555</p>
<h2><span id="centos虚拟机安装pve">centos虚拟机安装(pve)</span></h2><p>没有使用pve的同志可以跳到centos的安装部分，使用vps或者实体鸡的大佬可以直接跳过了</p>
<p>虚拟机创建</p>
<p><img src="/../assets/image_1731669901740_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1731669954186_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1731670046173_0.png" alt="image.png"></p>
<p>以上是基本配置，部分简单的操作这里就不截图了</p>
<p>我们在安装时就将网卡配置好，免得后面再手动配置</p>
<p><img src="/../assets/image_1731670146798_0.png" alt="image.png"></p>
<p>配置root密码</p>
<p><img src="/../assets/image_1731670187617_0.png" alt="image.png"></p>
<h2><span id="本地ssh配置非必需可以跳过">本地ssh配置(非必需，可以跳过)</span></h2><p>为了更快捷的连接我们的dvwa主机，对自己电脑中的ssh进行配置。记得上传公钥</p>
<p><img src="/../assets/image_1731670513385_0.png" alt="image.png"></p>
<p>这样就可以使用<code>ssh dvwa</code>愉快的连接辣</p>
<blockquote>
<p>如果你对ssh配置不感兴趣，这一步你可以跳过</p>
</blockquote>
<h2><span id="宝塔安装">宝塔安装</span></h2><p>前排提醒：安装前你无需对centos进行任何操作，宝塔安装脚本会帮你换源。你也无需担心找不到curl命令。即使是最小安装的centos，curl命令也是会有的。</p>
<p><img src="/../assets/2024-11-15_19-44_1731671072409_0.jpg" alt="2024-11-15_19-44.jpg"><br>id:: 6737337b-8018-4a31-b213-7fafa9020684</p>
<p>复制连接，粘贴到终端中运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=https://download.bt.cn/install/install_lts.sh;if [ -f /usr/bin/curl ];then curl -sSO $url;else wget -O install_lts.sh $url;fi;bash install_lts.sh ed8484bec</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/2024-11-15_19-45_1731671140086_0.jpg" alt="2024-11-15_19-45.jpg"></p>
<p>输入y确定</p>
<p>接下来就是等待</p>
<p><img src="/../assets/2024-11-15_19-56_1731671831220_0.jpg" alt="2024-11-15_19-56.jpg"></p>
<p>出现这个说明你已经成功安装了bt，接下就去愉快的安装lnmp吧</p>
<p>这个信息建议保存，不保存的话忘记了也能重置</p>
<p>使用浏览器进入面板地址</p>
<p>登陆成功后bt会让你绑定账号</p>
<p><img src="/../assets/2024-11-15_20-00_1731672070586_0.jpg" alt="2024-11-15_20-00.jpg"></p>
<p>老老实实绑定吧骚年</p>
<h2><span id="lnmp安装">lnmp安装</span></h2><p><img src="/../assets/2024-11-15_20-02_1731672145111_0.jpg" alt="2024-11-15_20-02.jpg"></p>
<p>当你绑定完成账号后，bt就热情的推荐你安装lnmp，直接无脑一键安装</p>
<p>这个步骤有点慢，这个时候你可以去下载dvwa的源码</p>
<blockquote>
<p>友情提示： php版本请使用7.3以上，dvwa在7.3以下有问题。</p>
</blockquote>
<h2><span id="dvwa安装">dvwa安装</span></h2><p>本文采用源码安装，dvwa提供了安装脚本，也有docker镜像。但是俺不得，就用源码装。</p>
<h3><span id="源码下载">源码下载</span></h3><p>gayhub下载地址</p>
<p><a target="_blank" rel="noopener" href="https://github.com/digininja/DVWA/releases">Releases · digininja&#x2F;DVWA · GitHub</a></p>
<h3><span id="上传源码">上传源码</span></h3><p>这一步有n种方法传上去，这里我们使用bt自带的文件管理上传</p>
<p><img src="/../assets/2024-11-15_20-13_1731672829573_0.jpg" alt="2024-11-15_20-13.jpg"></p>
<p>解压缩</p>
<p><img src="/../assets/2024-11-15_20-14_1731672900310_0.jpg" alt="2024-11-15_20-14.jpg"></p>
<h3><span id="创建站点">创建站点</span></h3><p>添加站点</p>
<p><img src="/../assets/2024-11-15_20-20_1731673209290_0.jpg" alt="2024-11-15_20-20.jpg"></p>
<p>域名这里我们写自己的ip地址，根目录选择解压后的dvwa的目录。</p>
<p>创建一个数据库，为了方便账号密码这里使用的是dvwa配置文件中默认的。如果你想要个性化，后面还需要修改dvwa对应的配置文件。</p>
<p><img src="/../assets/2024-11-15_20-19_1731673167492_0.jpg" alt="2024-11-15_20-19.jpg"></p>
<h3><span id="测试可达性">测试可达性</span></h3><p>访问<code>http://192.168.0.124</code></p>
<blockquote>
<p>这里要替换成你的ip啊！！！！ 😠</p>
</blockquote>
<p>不出意外，你的dvwa就可以正常使用了</p>
<p>如果有意外(实际上根据上面的教程来百分百会出意外😁)，请参考: 可能会遇到的问题</p>
<h3><span id="初始化dvwa">初始化dvwa</span></h3><p><img src="/../assets/2024-11-15_20-31_1731673887874_0.jpg" alt="2024-11-15_20-31.jpg"></p>
<p>先不要着急点击创建数据库，看到红色的没有。请先解决。参考: 可能会遇到的问题</p>
<p>bt是作为建站使用的，会默认禁用很多php的危险函数，首先我们要先对这些危险函数放行。参考: 可能会遇到的问题</p>
<p><img src="/../assets/2024-11-15_21-54_1731678895078_0.jpg" alt="2024-11-15_21-54.jpg"></p>
<p>当红字都解决了，你就可以愉快的点击<code>Create / Reset Database</code>按钮辣😁</p>
<p>这个时候你可能会狂点，发现它好像不起作用。不要点辣，重新访问一下<code>login.php</code>试试</p>
<p><img src="/../assets/2024-11-15_21-59_1731679181312_0.jpg" alt="2024-11-15_21-59.jpg"></p>
<p>现在你可以，dvwa启动了</p>
<h2><span id="可能会遇到的问题">可能会遇到的问题</span></h2><h3><span id="宝塔安装时yum被占用了5555">宝塔安装时yum被占用了5555</span></h3><p>具体情况是这样</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Another app is currently holding the yum lock; waiting for it to exit...</span><br><span class="line">  The other application is: yum</span><br><span class="line">    Memory :  28 M RSS (1.1 GB VSZ)</span><br><span class="line">    Started: Fri Nov 15 19:47:54 2024 - 02:59 ago</span><br><span class="line">    State  : Sleeping, pid: 9557</span><br></pre></td></tr></table></figure>

<p>这是脚本在安装其他软件，我这个状态是sleeping，可以先给他停止了，虽然不知道会出什么问题..</p>
<p>比较稳妥的方法，使用ps看看是他在干什么</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -elf | grep 9557</span><br><span class="line">4 S root      9557  9556  0  80   0 - 279723 ep_pol 19:47 pts/0   00:00:00 /usr/bin/python /bin/yum -y update polkit</span><br></pre></td></tr></table></figure>

<p>以我的这个为例，yum正在安装<code>polkit</code>，等会脚本结束如果没有这个软件，我再手动给他装上就行了</p>
<h3><span id="首次访问dvwa报错不想玩辣">首次访问dvwa报错，不想玩辣</span></h3><p>DVWA System error config file not found. Copy<br>config&#x2F;config.inc.php.dist to config&#x2F;config.inc.php and configure to<br>your environment.</p>
<p><img src="/../assets/2024-11-15_20-25_1731673739929_0.jpg" alt="2024-11-15_20-25.jpg"></p>
<p>字面意思，按照他教你的方法做，将<code>config/config.inc.php.dist </code>拷贝一份到<code>config/config.inc.php </code></p>
<p>你可以用bt的文件管理来做这件事情</p>
<h3><span id="bt太安全辣让我的php网站很难被攻击删除php禁止函数">bt太安全辣让我的php网站很难被攻击(删除php禁止函数)</span></h3><p><img src="/../assets/2024-11-15_21-17_1731676645366_0.jpg" alt="2024-11-15_21-17.jpg"></p>
<p>选择你建站时使用的php版本。</p>
<blockquote>
<p>我有这么多php，是因为踩了很多坑，挨个都尝试了一遍 😢</p>
</blockquote>
<p><img src="/../assets/2024-11-15_21-15_1731676612360_0.jpg" alt="2024-11-15_21-15.jpg"></p>
<p>拿起你的鼠标挨个删除吧</p>
<blockquote>
<p>其实可能有更简便的方法来删除，但是我已经挨个点完了，所以你也要点🤓</p>
</blockquote>
<h3><span id="初始化时出现了很多红字字丸辣启用某些配置">初始化时出现了很多红字字🤬丸辣，启用某些配置</span></h3><p>你的红字可能不一样，这里仅介绍将Disabled的红字变成绿色的Enabled</p>
<p><img src="/../assets/2024-11-15_21-30_1731677436636_0.jpg" alt="2024-11-15_21-30.jpg"></p>
<p><img src="/../assets/2024-11-15_21-17_1731677153339_0.jpg" alt="2024-11-15_21-17.jpg"></p>
<p>仍然选择你对应的版本</p>
<p><img src="/../assets/2024-11-15_21-27_1731677252079_0.jpg" alt="2024-11-15_21-27.jpg"></p>
<p><img src="/../assets/2024-11-15_21-32_1731677534622_0.jpg" alt="2024-11-15_21-32.jpg"></p>
<p>搜索你对应的红色字的东西，把它后面的Off改成On</p>
<p><img src="/../assets/2024-11-15_21-33_1731677592936_0.jpg" alt="2024-11-15_21-33.jpg"></p>
<p><img src="/../assets/2024-11-15_21-35_1731677745406_0.jpg" alt="2024-11-15_21-35.jpg"></p>
<p>改完之后重启PHP，重启中间件</p>
<p>如果仍然是红的，那么请修改dvwa根目录下的<code>php.ini</code></p>
<p><img src="/../assets/2024-11-15_21-37_1731677856165_0.jpg" alt="2024-11-15_21-37.jpg"></p>
<h3><span id="初始化时recaptcha-key-missing">初始化时reCAPTCHA key: Missing</span></h3><p>这个是验证码靶场用的，需要去咕噜咕噜申请验证码的key，不使用这个靶场可以忽略。🪿且咱们搭建在内网，没法申请这个key。如果你搭建在公网上，请自行参考dvwa文档</p>
<h2><span id="参考">参考</span></h2><p><a target="_blank" rel="noopener" href="http://bt.cn/">宝塔面板 简单好用的Linux&#x2F;Windows服务器运维管理面板 </a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/digininja/DVWA/releases">Releases · digininja&#x2F;DVWA · GitHub</a></p>
<h2><span id="github-digininjax2fdvwa-damn-vulnerable-web-application-dvwa"></span></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/" data-id="cm4ocklei001sa3iwflmpazwt" data-title="无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dvwa/" rel="tag">dvwa</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day5_kls_review" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/15/day5_kls_review/" class="article-date">
  <time class="dt-published" datetime="2024-11-15T10:13:33.000Z" itemprop="datePublished">2024-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/15/day5_kls_review/">day5_kls_review</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="复习">复习</span></h2><h3><span id="虚拟机网络模式">虚拟机网络模式</span></h3><p>nat,bridge,host-only</p>
<h3><span id="linux目录结构">linux目录结构</span></h3><p><code>tree -L 1 /</code>获取根目录结构</p>
<p>每个目录的作用</p>
<h3><span id="linux命令">linux命令</span></h3><h4><span id="文件相关">文件相关</span></h4><p>查看文件: ls</p>
<p>查看文件内容: cat,more,tail,head,其他的文件编辑器</p>
<p>修改文件: cp,mv,rm,rmdir</p>
<p>创建文件: mkdir,touch</p>
<h4><span id="网络相关">网络相关</span></h4><p>查看网卡信息: ip,ifconfig</p>
<p>查看网络连接情况:netstat</p>
<p>修改网卡信息: nmtui,配置文件修改</p>
<blockquote>
<p>redhat <code>/etc/sysconfig/network-script/ifcf-xxx</code><br>debain <code>/etc/network/interfaces</code></p>
</blockquote>
<h4><span id="进程相关">进程相关</span></h4><p>查看进程: ps,top</p>
<p>进程管理: kill,top</p>
<h4><span id="权限相关">权限相关</span></h4><p>修改权限: chmod</p>
<p>修改所属用户和组: chown</p>
<h4><span id="用户管理相关">用户管理相关</span></h4><p>相关配置文件:<code>/etc/passwd</code>,<code>/etc/shadow</code>,<code>/etc/group</code>,<code>/etc/gshadow</code></p>
<p>创建: useradd,groupadd</p>
<p>修改: usermod,groupmod</p>
<p>删除: userdel,groupdel</p>
<p>切换用户: su</p>
<h4><span id="文本处理">文本处理</span></h4><p>grep</p>
<p>find</p>
<h4><span id="文件查找">文件查找</span></h4><p>find</p>
<p>whereis</p>
<h4><span id="打包解包压缩解压缩">打包解包压缩解压缩</span></h4><p>打包解包:tar</p>
<p>压缩解压缩:zip,unzip</p>
<h4><span id="定时任务">定时任务</span></h4><p>crontab</p>
<h2><span id="查缺补漏">查缺补漏</span></h2><h3><span id="linux配置文件">linux配置文件</span></h3><ul>
<li></li>
</ul>
<p><code>/etc/passwd</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">用户名:密码占位符:用户ID:组ID:用户全名:用户主目录:用户默认shell</span></span><br><span class="line">root:x:0:0::/root:/bin/bash</span><br></pre></td></tr></table></figure>

<p><code>/etc/shadow</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">用户名:加密密码:最后修改密码的日期:最小密码年龄:最大密码年龄:警告期:不活动期:过期日期:保留字段</span></span><br><span class="line">root:sadfasdfxc:19612::::::</span><br></pre></td></tr></table></figure>

<h2><span id="etcgroup"><code>/etc/group</code></span></h2><p><code>/etc/gshadow</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/15/day5_kls_review/" data-id="cm4ockle90014a3iw44ikcruv" data-title="day5_kls_review" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/review/" rel="tag">review</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day4_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/14/day4_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-14T14:10:28.000Z" itemprop="datePublished">2024-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/14/day4_kls/">day4_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2><span id="课程内容">课程内容</span></h2><h2><span id="包管理器">包管理器</span></h2><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/14/linux%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/">linux包管理器 | ziWindlu的博客</a></p>
<h3><span id="linux系统信息查看">linux系统信息查看</span></h3><p><code>cat /etc/os-release</code>查看系统相关信息</p>
<p><code>uname -a</code>查看内核版本</p>
<p><strong>工具</strong></p>
<p>neofetch(已归档)</p>
<p>fastfetch(推荐)</p>
<h3><span id="lnmpx2flamp">LNMP&#x2F;LAMP</span></h3><p>bt.cn</p>
<h3><span id="ssh">ssh</span></h3><h4><span id="服务相关">服务相关</span></h4><p>开启自启动，并现在开启服务<code>systemctl enable --now  sshd</code></p>
<p>关闭开机自启动，并现在关闭服务<code>systemctl disable --now sshd</code></p>
<p>修改配置文件，并令其生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure>

<h4><span id="使用">使用</span></h4><p><code>ssh user@host</code>连接</p>
<p><code>ssh-keygen</code>生成公私钥对</p>
<p><code>ssh-copy-id -i /path/to/public user@host</code>上传公钥</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/">ssh上传公钥手动上传+命令上传 | ziWindlu的博客</a></p>
<h4><span id="配置">配置</span></h4><p>对于ssh服务端的配置文件在<code>/etc/ssh/sshd_config</code></p>
<p>几个重要的配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许root用户登陆</span></span><br><span class="line">PermitRootLogin yes</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许密码认证</span></span><br><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure>

<h3><span id="计划任务">计划任务</span></h3><h4><span id="分类">分类</span></h4><p>系统计划任务<code>/etc/crontab</code></p>
<p>用户计划任务<code>/var/spool/cron/username</code></p>
<h4><span id="计划任务crontab">计划任务crontab</span></h4><p>查看(l)用户(u)的计划任务<code>crontab -l -u username</code></p>
<p>编辑(e)用户(u)的计划任务<code>crontab -e -u username</code></p>
<h3><span id="散碎的知识点">散碎的知识点</span></h3><h2><span id="实例">实例</span></h2><h3><span id="获取系统信息">获取系统信息</span></h3><p><img src="/../assets/fetch_1731548301788_0.gif" alt="fetch.gif"></p>
<h3><span id="ssh修改配置文件">ssh修改配置文件</span></h3><p><img src="/../assets/shhd_1731551609156_0.gif" alt="shhd.gif"></p>
<h3><span id="计划任务crontab使用">计划任务crontab使用</span></h3><p>为用户lzf创建一个定时任务</p>
<p><img src="/../assets/crontab_1731578969266_0.gif" alt="crontab.gif"></p>
<h2><span id="思考ampamptodo">思考&amp;&amp;todo</span></h2><p>asciinema不支持显示edit-in-kitty，以后需要避免使用</p>
<p>kitty仅可在显式的使用ssh连接的用户中使用edit-in-kitty，切换用户后</p>
<p>DONE 让kali的zsh支持<code>c-p</code>,<code>c-n</code>作为上和下键来使用</p>
<h2><span id="参考">参考</span></h2><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Cron#Configuration">cron ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/14/day4_kls/" data-id="cm4ockle80013a3iw4qmb0mho" data-title="day4_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/burpsuite/" rel="tag">burpsuite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cdn/" rel="tag">cdn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cookie/" rel="tag">cookie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cors/" rel="tag">cors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csrf/" rel="tag">csrf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker-compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dvwa/" rel="tag">dvwa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exam/" rel="tag">exam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firewalld/" rel="tag">firewalld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ftp/" rel="tag">ftp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/get/" rel="tag">get</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ip%E6%8E%A2%E6%B4%BB/" rel="tag">ip探活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kls/" rel="tag">kls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" rel="tag">linux常见服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rce/" rel="tag">rce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/review/" rel="tag">review</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/selinux/" rel="tag">selinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session/" rel="tag">session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/smb/" rel="tag">smb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlmap/" rel="tag">sqlmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql%E6%B3%A8%E5%85%A5/" rel="tag">sql注入</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-copy-id/" rel="tag">ssh-copy-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssrf/" rel="tag">ssrf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sysinfo/" rel="tag">sysinfo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ufw/" rel="tag">ufw</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virt-manager/" rel="tag">virt-manager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webshell/" rel="tag">webshell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xss/" rel="tag">xss</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xxe/" rel="tag">xxe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" rel="tag">信息收集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%BC%B9shell/" rel="tag">反弹shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">命令执行</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB/" rel="tag">指纹识别</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" rel="tag">文件上传</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">文件包含</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" rel="tag">暴力破解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%99%E7%82%B9%E6%9E%B6%E6%9E%84/" rel="tag">站点架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/" rel="tag">端口扫描</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%B6%E5%9C%BA/" rel="tag">靶场</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog/" style="font-size: 12.5px;">blog</a> <a href="/tags/burpsuite/" style="font-size: 12.5px;">burpsuite</a> <a href="/tags/cdn/" style="font-size: 10px;">cdn</a> <a href="/tags/cookie/" style="font-size: 10px;">cookie</a> <a href="/tags/cors/" style="font-size: 10px;">cors</a> <a href="/tags/csrf/" style="font-size: 10px;">csrf</a> <a href="/tags/docker/" style="font-size: 12.5px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 12.5px;">docker-compose</a> <a href="/tags/dvwa/" style="font-size: 10px;">dvwa</a> <a href="/tags/exam/" style="font-size: 17.5px;">exam</a> <a href="/tags/firewalld/" style="font-size: 10px;">firewalld</a> <a href="/tags/ftp/" style="font-size: 10px;">ftp</a> <a href="/tags/get/" style="font-size: 10px;">get</a> <a href="/tags/http/" style="font-size: 12.5px;">http</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/ip%E6%8E%A2%E6%B4%BB/" style="font-size: 10px;">ip探活</a> <a href="/tags/kls/" style="font-size: 20px;">kls</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/linux%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">linux常见服务</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/rce/" style="font-size: 10px;">rce</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/review/" style="font-size: 12.5px;">review</a> <a href="/tags/selinux/" style="font-size: 10px;">selinux</a> <a href="/tags/session/" style="font-size: 10px;">session</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/smb/" style="font-size: 10px;">smb</a> <a href="/tags/sqlmap/" style="font-size: 10px;">sqlmap</a> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" style="font-size: 17.5px;">sql注入</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ssh-copy-id/" style="font-size: 10px;">ssh-copy-id</a> <a href="/tags/ssrf/" style="font-size: 10px;">ssrf</a> <a href="/tags/sysinfo/" style="font-size: 10px;">sysinfo</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/ufw/" style="font-size: 10px;">ufw</a> <a href="/tags/virt-manager/" style="font-size: 10px;">virt-manager</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/webshell/" style="font-size: 10px;">webshell</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/xss/" style="font-size: 12.5px;">xss</a> <a href="/tags/xxe/" style="font-size: 10px;">xxe</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" style="font-size: 15px;">信息收集</a> <a href="/tags/%E5%8F%8D%E5%BC%B9shell/" style="font-size: 10px;">反弹shell</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" style="font-size: 10px;">命令执行</a> <a href="/tags/%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB/" style="font-size: 10px;">指纹识别</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" style="font-size: 12.5px;">文件上传</a> <a href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" style="font-size: 10px;">文件包含</a> <a href="/tags/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">暴力破解</a> <a href="/tags/%E7%AB%99%E7%82%B9%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">站点架构</a> <a href="/tags/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/" style="font-size: 10px;">端口扫描</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">虚拟化</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a> <a href="/tags/%E9%9D%B6%E5%9C%BA/" style="font-size: 10px;">靶场</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/12/27/week7_kls_exam/">week7_kls_exam</a>
          </li>
        
          <li>
            <a href="/2024/12/26/day34_kls/">day34_kls</a>
          </li>
        
          <li>
            <a href="/2024/12/26/sqli-labs/">sqli-labs</a>
          </li>
        
          <li>
            <a href="/2024/12/25/day33_kls/">day33_kls</a>
          </li>
        
          <li>
            <a href="/2024/12/24/day32_kls/">day32_kls</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>